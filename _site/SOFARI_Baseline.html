<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Corey Scholes">
<meta name="dcterms.date" content="2025-08-11">

<title>SOFARI_Baseline - Pain and function at baseline assessment of foot and ankle pathology: An analysis of the SOFARI Registry</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">SOFARI_Baseline</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#analysis-preamble" id="toc-analysis-preamble" class="nav-link active" data-scroll-target="#analysis-preamble"><span class="header-section-number">1</span> Analysis Preamble</a>
  <ul class="collapse">
  <li><a href="#reporting" id="toc-reporting" class="nav-link" data-scroll-target="#reporting"><span class="header-section-number">1.1</span> Reporting</a></li>
  <li><a href="#preparation" id="toc-preparation" class="nav-link" data-scroll-target="#preparation"><span class="header-section-number">1.2</span> Preparation</a></li>
  <li><a href="#authorisations" id="toc-authorisations" class="nav-link" data-scroll-target="#authorisations"><span class="header-section-number">1.3</span> Authorisations</a></li>
  <li><a href="#functions-for-processing" id="toc-functions-for-processing" class="nav-link" data-scroll-target="#functions-for-processing"><span class="header-section-number">1.4</span> Functions for Processing</a>
  <ul class="collapse">
  <li><a href="#diagnosis" id="toc-diagnosis" class="nav-link" data-scroll-target="#diagnosis"><span class="header-section-number">1.4.1</span> Diagnosis</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#title-and-abstract" id="toc-title-and-abstract" class="nav-link" data-scroll-target="#title-and-abstract"><span class="header-section-number">2</span> Title and abstract</a>
  <ul class="collapse">
  <li><a href="#abstract" id="toc-abstract" class="nav-link" data-scroll-target="#abstract"><span class="header-section-number">2.1</span> Abstract</a></li>
  <li><a href="#record-1.1-data-type" id="toc-record-1.1-data-type" class="nav-link" data-scroll-target="#record-1.1-data-type"><span class="header-section-number">2.2</span> RECORD [1.1] Data Type</a></li>
  <li><a href="#record-1.2-geography-and-timeframe" id="toc-record-1.2-geography-and-timeframe" class="nav-link" data-scroll-target="#record-1.2-geography-and-timeframe"><span class="header-section-number">2.3</span> RECORD [1.2] Geography and Timeframe</a></li>
  <li><a href="#record-1.3-data-linkage" id="toc-record-1.3-data-linkage" class="nav-link" data-scroll-target="#record-1.3-data-linkage"><span class="header-section-number">2.4</span> RECORD [1.3] Data Linkage</a></li>
  <li><a href="#record-2-backgroundrationale" id="toc-record-2-backgroundrationale" class="nav-link" data-scroll-target="#record-2-backgroundrationale"><span class="header-section-number">2.5</span> RECORD [2] Background/rationale</a></li>
  <li><a href="#record-3-objectives" id="toc-record-3-objectives" class="nav-link" data-scroll-target="#record-3-objectives"><span class="header-section-number">2.6</span> RECORD [3] Objectives</a>
  <ul class="collapse">
  <li><a href="#hypotheses" id="toc-hypotheses" class="nav-link" data-scroll-target="#hypotheses"><span class="header-section-number">2.6.1</span> Hypotheses</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods"><span class="header-section-number">3</span> Methods</a>
  <ul class="collapse">
  <li><a href="#record-4-study-design" id="toc-record-4-study-design" class="nav-link" data-scroll-target="#record-4-study-design"><span class="header-section-number">3.1</span> RECORD [4] Study design</a></li>
  <li><a href="#record-5-setting" id="toc-record-5-setting" class="nav-link" data-scroll-target="#record-5-setting"><span class="header-section-number">3.2</span> RECORD [5] Setting</a></li>
  <li><a href="#record-8-data-sourcesmeasurement" id="toc-record-8-data-sourcesmeasurement" class="nav-link" data-scroll-target="#record-8-data-sourcesmeasurement"><span class="header-section-number">3.3</span> RECORD [8] Data sources/measurement</a>
  <ul class="collapse">
  <li><a href="#data-import-and-preparation" id="toc-data-import-and-preparation" class="nav-link" data-scroll-target="#data-import-and-preparation"><span class="header-section-number">3.3.1</span> Data Import and Preparation</a></li>
  </ul></li>
  <li><a href="#record-6-participants" id="toc-record-6-participants" class="nav-link" data-scroll-target="#record-6-participants"><span class="header-section-number">3.4</span> RECORD [6] Participants</a>
  <ul class="collapse">
  <li><a href="#record-6.1-sample-selection" id="toc-record-6.1-sample-selection" class="nav-link" data-scroll-target="#record-6.1-sample-selection"><span class="header-section-number">3.4.1</span> Record [6.1] Sample selection</a></li>
  <li><a href="#record-6.2-algorithm-validation" id="toc-record-6.2-algorithm-validation" class="nav-link" data-scroll-target="#record-6.2-algorithm-validation"><span class="header-section-number">3.4.2</span> Record [6.2] Algorithm validation</a></li>
  <li><a href="#record-6.3-data-linkage" id="toc-record-6.3-data-linkage" class="nav-link" data-scroll-target="#record-6.3-data-linkage"><span class="header-section-number">3.4.3</span> Record [6.3] Data linkage</a></li>
  </ul></li>
  <li><a href="#record-7-variables" id="toc-record-7-variables" class="nav-link" data-scroll-target="#record-7-variables"><span class="header-section-number">3.5</span> RECORD [7] Variables</a>
  <ul class="collapse">
  <li><a href="#diagnosis-1" id="toc-diagnosis-1" class="nav-link" data-scroll-target="#diagnosis-1"><span class="header-section-number">3.5.1</span> Diagnosis</a></li>
  <li><a href="#cohort" id="toc-cohort" class="nav-link" data-scroll-target="#cohort"><span class="header-section-number">3.5.2</span> Cohort</a></li>
  <li><a href="#bilateral-status" id="toc-bilateral-status" class="nav-link" data-scroll-target="#bilateral-status"><span class="header-section-number">3.5.3</span> Bilateral Status</a></li>
  <li><a href="#record-7.1-codes-and-algorithms" id="toc-record-7.1-codes-and-algorithms" class="nav-link" data-scroll-target="#record-7.1-codes-and-algorithms"><span class="header-section-number">3.5.4</span> RECORD [7.1] Codes and Algorithms</a></li>
  </ul></li>
  <li><a href="#record-9-bias" id="toc-record-9-bias" class="nav-link" data-scroll-target="#record-9-bias"><span class="header-section-number">3.6</span> RECORD [9] Bias</a></li>
  <li><a href="#record-10-study-size" id="toc-record-10-study-size" class="nav-link" data-scroll-target="#record-10-study-size"><span class="header-section-number">3.7</span> RECORD [10] Study size</a></li>
  <li><a href="#record-11-quantitative-variables" id="toc-record-11-quantitative-variables" class="nav-link" data-scroll-target="#record-11-quantitative-variables"><span class="header-section-number">3.8</span> RECORD [11] Quantitative variables</a></li>
  <li><a href="#record-12-statistical-methods" id="toc-record-12-statistical-methods" class="nav-link" data-scroll-target="#record-12-statistical-methods"><span class="header-section-number">3.9</span> RECORD [12] Statistical methods</a>
  <ul class="collapse">
  <li><a href="#record-12.1-data-access" id="toc-record-12.1-data-access" class="nav-link" data-scroll-target="#record-12.1-data-access"><span class="header-section-number">3.9.1</span> RECORD [12.1] Data access</a></li>
  <li><a href="#record-12.2-data-cleaning" id="toc-record-12.2-data-cleaning" class="nav-link" data-scroll-target="#record-12.2-data-cleaning"><span class="header-section-number">3.9.2</span> RECORD [12.2] Data Cleaning</a></li>
  <li><a href="#record-12.3-linkage" id="toc-record-12.3-linkage" class="nav-link" data-scroll-target="#record-12.3-linkage"><span class="header-section-number">3.9.3</span> RECORD [12.3] Linkage</a></li>
  <li><a href="#analysis-methods" id="toc-analysis-methods" class="nav-link" data-scroll-target="#analysis-methods"><span class="header-section-number">3.9.4</span> Analysis Methods</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">4</span> Results</a>
  <ul class="collapse">
  <li><a href="#record-13-participants" id="toc-record-13-participants" class="nav-link" data-scroll-target="#record-13-participants"><span class="header-section-number">4.1</span> RECORD [13] Participants</a>
  <ul class="collapse">
  <li><a href="#record-13.1-participant-flow" id="toc-record-13.1-participant-flow" class="nav-link" data-scroll-target="#record-13.1-participant-flow"><span class="header-section-number">4.1.1</span> RECORD [13.1] Participant Flow</a></li>
  </ul></li>
  <li><a href="#record-14-patient-characteristics" id="toc-record-14-patient-characteristics" class="nav-link" data-scroll-target="#record-14-patient-characteristics"><span class="header-section-number">4.2</span> RECORD [14] Patient Characteristics</a></li>
  <li><a href="#record-15-outcome-data" id="toc-record-15-outcome-data" class="nav-link" data-scroll-target="#record-15-outcome-data"><span class="header-section-number">4.3</span> RECORD [15] Outcome data</a></li>
  <li><a href="#record-16-main-results" id="toc-record-16-main-results" class="nav-link" data-scroll-target="#record-16-main-results"><span class="header-section-number">4.4</span> RECORD [16] Main results</a></li>
  <li><a href="#record-17-other-analyses" id="toc-record-17-other-analyses" class="nav-link" data-scroll-target="#record-17-other-analyses"><span class="header-section-number">4.5</span> RECORD [17] Other analyses</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion"><span class="header-section-number">5</span> Discussion</a>
  <ul class="collapse">
  <li><a href="#record-18-key-results" id="toc-record-18-key-results" class="nav-link" data-scroll-target="#record-18-key-results"><span class="header-section-number">5.1</span> RECORD [18] Key results</a></li>
  <li><a href="#record-19-limitations" id="toc-record-19-limitations" class="nav-link" data-scroll-target="#record-19-limitations"><span class="header-section-number">5.2</span> RECORD [19] Limitations</a>
  <ul class="collapse">
  <li><a href="#record-19.1-implications-of-non-specific-data" id="toc-record-19.1-implications-of-non-specific-data" class="nav-link" data-scroll-target="#record-19.1-implications-of-non-specific-data"><span class="header-section-number">5.2.1</span> RECORD [19.1] Implications of non-specific data</a></li>
  </ul></li>
  <li><a href="#record-20-interpretation" id="toc-record-20-interpretation" class="nav-link" data-scroll-target="#record-20-interpretation"><span class="header-section-number">5.3</span> RECORD [20] Interpretation</a></li>
  <li><a href="#record-21-generalisability" id="toc-record-21-generalisability" class="nav-link" data-scroll-target="#record-21-generalisability"><span class="header-section-number">5.4</span> RECORD [21] Generalisability</a></li>
  </ul></li>
  <li><a href="#other-information" id="toc-other-information" class="nav-link" data-scroll-target="#other-information"><span class="header-section-number">6</span> Other information</a>
  <ul class="collapse">
  <li><a href="#record-22-funding" id="toc-record-22-funding" class="nav-link" data-scroll-target="#record-22-funding"><span class="header-section-number">6.1</span> RECORD [22] Funding</a></li>
  <li><a href="#record-23-accessibility-of-protocol-raw-data-and-programming-code" id="toc-record-23-accessibility-of-protocol-raw-data-and-programming-code" class="nav-link" data-scroll-target="#record-23-accessibility-of-protocol-raw-data-and-programming-code"><span class="header-section-number">6.2</span> RECORD [23] Accessibility of protocol, raw data, and programming code</a></li>
  </ul></li>
  <li><a href="#publishing-functions" id="toc-publishing-functions" class="nav-link" data-scroll-target="#publishing-functions"><span class="header-section-number">7</span> Publishing functions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Pain and function at baseline assessment of foot and ankle pathology: An analysis of the SOFARI Registry</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Corey Scholes </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 11, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">August 11, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="analysis-preamble" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Analysis Preamble</h1>
<p>This analysis is to replicate a study describing the distribution of pain catastrophizing in patients presenting for surgical review of hip pathology <span class="citation" data-cites="hampton2019">(<a href="#ref-hampton2019" role="doc-biblioref"><strong>hampton2019?</strong></a>)</span>.</p>
<section id="reporting" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="reporting"><span class="header-section-number">1.1</span> Reporting</h2>
<p>The study was reported according to the RECORD guidelines <span class="citation" data-cites="Benchimol2015">(<a href="#ref-Benchimol2015" role="doc-biblioref"><strong>Benchimol2015?</strong></a>)</span> and companion checklist.</p>
<p>The analysis was conducted in RStudio IDE (RStudio 2024.12.0+467 “Kousa Dogwood” Release) using <em>Rbase</em> <span class="citation" data-cites="base">(<a href="#ref-base" role="doc-biblioref"><strong>base?</strong></a>)</span>, <em>quarto</em> <span class="citation" data-cites="quarto">(<a href="#ref-quarto" role="doc-biblioref"><strong>quarto?</strong></a>)</span> and attached packages to perform the following;</p>
<ul>
<li><p>Data import and preparation</p></li>
<li><p>Sample selection</p></li>
<li><p>Describe and address missingness</p></li>
<li><p>Data manipulation, modelling and visualisation of;</p>
<ul>
<li><p>Patient characteristics</p></li>
<li><p>Pathology characteristics (diagnosis)</p></li>
<li><p>Patient reported outcomes</p></li>
</ul></li>
</ul>
</section>
<section id="preparation" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="preparation"><span class="header-section-number">1.2</span> Preparation</h2>
<p>Load up required packages in advance. Citations are applied to each library at first use in the text. <!--# Reorder these in order of general appearance --></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"patchwork"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"car"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"corrplot"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"knitr"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"cardx"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"quarto"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"pROC"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"reshape"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"future"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"furrr"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"memoise"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gargle"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"googledrive"</span>,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"googlesheets4"</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"openxlsx2"</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"readr"</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"purrr"</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyverse"</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidymodels"</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidytext"</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"stopwords"</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tictoc"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"lubridate"</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"forcats"</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gt"</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"consort"</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"gtsummary"</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"flextable"</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"survival"</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggplot2"</span>,</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggdist"</span>,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggsurvfit"</span>,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ggfortify"</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"mice"</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"marginaleffects"</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"patchwork"</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"naniar"</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">"quantreg"</span>,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="st">"broom"</span>,</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"broom.helpers"</span>,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">"labelled"</span>,</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="st">"epoxy"</span>,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  <span class="st">"broom.mixed"</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>  <span class="st">"lme4"</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  <span class="st">"janitor"</span>,</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>  <span class="st">"progressr"</span>,</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DT"</span>,</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">install =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">update =</span> <span class="cn">FALSE</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div id="tbl-pkgcite" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-pkgcite-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Summary of package usage and citations
</figcaption>
<div aria-describedby="tbl-pkgcite-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<colgroup>
<col style="width: 22%">
<col style="width: 12%">
<col style="width: 65%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Package</th>
<th style="text-align: left;">Version</th>
<th style="text-align: left;">Citation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">base</td>
<td style="text-align: left;">4.4.2</td>
<td style="text-align: left;"><span class="citation" data-cites="base">(<a href="#ref-base" role="doc-biblioref"><strong>base?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">broom.helpers</td>
<td style="text-align: left;">1.21.0</td>
<td style="text-align: left;"><span class="citation" data-cites="broomhelpers">(<a href="#ref-broomhelpers" role="doc-biblioref"><strong>broomhelpers?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">broom.mixed</td>
<td style="text-align: left;">0.2.9.6</td>
<td style="text-align: left;"><span class="citation" data-cites="broommixed">(<a href="#ref-broommixed" role="doc-biblioref"><strong>broommixed?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">car</td>
<td style="text-align: left;">3.1.3</td>
<td style="text-align: left;"><span class="citation" data-cites="car">(<a href="#ref-car" role="doc-biblioref"><strong>car?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">cardx</td>
<td style="text-align: left;">0.2.5</td>
<td style="text-align: left;"><span class="citation" data-cites="cardx">(<a href="#ref-cardx" role="doc-biblioref"><strong>cardx?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">consort</td>
<td style="text-align: left;">1.2.2</td>
<td style="text-align: left;"><span class="citation" data-cites="consort">(<a href="#ref-consort" role="doc-biblioref"><strong>consort?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">corrplot</td>
<td style="text-align: left;">0.95</td>
<td style="text-align: left;"><span class="citation" data-cites="corrplot">(<a href="#ref-corrplot" role="doc-biblioref"><strong>corrplot?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">distributional</td>
<td style="text-align: left;">0.5.0</td>
<td style="text-align: left;"><span class="citation" data-cites="distributional">(<a href="#ref-distributional" role="doc-biblioref"><strong>distributional?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">DT</td>
<td style="text-align: left;">0.33</td>
<td style="text-align: left;"><span class="citation" data-cites="DT">(<a href="#ref-DT" role="doc-biblioref"><strong>DT?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">epoxy</td>
<td style="text-align: left;">1.0.0</td>
<td style="text-align: left;"><span class="citation" data-cites="epoxy">(<a href="#ref-epoxy" role="doc-biblioref"><strong>epoxy?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">flextable</td>
<td style="text-align: left;">0.9.9</td>
<td style="text-align: left;"><span class="citation" data-cites="flextable">(<a href="#ref-flextable" role="doc-biblioref"><strong>flextable?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">furrr</td>
<td style="text-align: left;">0.3.1</td>
<td style="text-align: left;"><span class="citation" data-cites="furrr">(<a href="#ref-furrr" role="doc-biblioref"><strong>furrr?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">future</td>
<td style="text-align: left;">1.67.0</td>
<td style="text-align: left;"><span class="citation" data-cites="future">(<a href="#ref-future" role="doc-biblioref"><strong>future?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">gargle</td>
<td style="text-align: left;">1.5.2</td>
<td style="text-align: left;"><span class="citation" data-cites="gargle">(<a href="#ref-gargle" role="doc-biblioref"><strong>gargle?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">ggdist</td>
<td style="text-align: left;">3.3.3</td>
<td style="text-align: left;"><span class="citation" data-cites="ggdist2024">(<a href="#ref-ggdist2024" role="doc-biblioref"><strong>ggdist2024?</strong></a>)</span>; <span class="citation" data-cites="ggdist2025">(<a href="#ref-ggdist2025" role="doc-biblioref"><strong>ggdist2025?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">ggfortify</td>
<td style="text-align: left;">0.4.19</td>
<td style="text-align: left;"><span class="citation" data-cites="ggfortify2016">(<a href="#ref-ggfortify2016" role="doc-biblioref"><strong>ggfortify2016?</strong></a>)</span>; <span class="citation" data-cites="ggfortify2018">(<a href="#ref-ggfortify2018" role="doc-biblioref"><strong>ggfortify2018?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">ggsurvfit</td>
<td style="text-align: left;">1.1.0</td>
<td style="text-align: left;"><span class="citation" data-cites="ggsurvfit">(<a href="#ref-ggsurvfit" role="doc-biblioref"><strong>ggsurvfit?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">glue</td>
<td style="text-align: left;">1.8.0</td>
<td style="text-align: left;"><span class="citation" data-cites="glue">(<a href="#ref-glue" role="doc-biblioref"><strong>glue?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">gt</td>
<td style="text-align: left;">1.0.0</td>
<td style="text-align: left;"><span class="citation" data-cites="gt">(<a href="#ref-gt" role="doc-biblioref"><strong>gt?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">gtsummary</td>
<td style="text-align: left;">2.3.0</td>
<td style="text-align: left;"><span class="citation" data-cites="gtsummary">(<a href="#ref-gtsummary" role="doc-biblioref"><strong>gtsummary?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">janitor</td>
<td style="text-align: left;">2.2.1</td>
<td style="text-align: left;"><span class="citation" data-cites="janitor">(<a href="#ref-janitor" role="doc-biblioref"><strong>janitor?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">knitr</td>
<td style="text-align: left;">1.50</td>
<td style="text-align: left;"><span class="citation" data-cites="knitr2014">(<a href="#ref-knitr2014" role="doc-biblioref"><strong>knitr2014?</strong></a>)</span>; <span class="citation" data-cites="knitr2015">(<a href="#ref-knitr2015" role="doc-biblioref"><strong>knitr2015?</strong></a>)</span>; <span class="citation" data-cites="knitr2025">(<a href="#ref-knitr2025" role="doc-biblioref"><strong>knitr2025?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">labelled</td>
<td style="text-align: left;">2.14.1</td>
<td style="text-align: left;"><span class="citation" data-cites="labelled">(<a href="#ref-labelled" role="doc-biblioref"><strong>labelled?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">lme4</td>
<td style="text-align: left;">1.1.37</td>
<td style="text-align: left;"><span class="citation" data-cites="lme4">(<a href="#ref-lme4" role="doc-biblioref"><strong>lme4?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">marginaleffects</td>
<td style="text-align: left;">0.28.0</td>
<td style="text-align: left;"><span class="citation" data-cites="marginaleffects">(<a href="#ref-marginaleffects" role="doc-biblioref"><strong>marginaleffects?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">memoise</td>
<td style="text-align: left;">2.0.1</td>
<td style="text-align: left;"><span class="citation" data-cites="memoise">(<a href="#ref-memoise" role="doc-biblioref"><strong>memoise?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">mice</td>
<td style="text-align: left;">3.18.0</td>
<td style="text-align: left;"><span class="citation" data-cites="mice">(<a href="#ref-mice" role="doc-biblioref"><strong>mice?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">naniar</td>
<td style="text-align: left;">1.1.0</td>
<td style="text-align: left;"><span class="citation" data-cites="naniar">(<a href="#ref-naniar" role="doc-biblioref"><strong>naniar?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">openxlsx2</td>
<td style="text-align: left;">1.18</td>
<td style="text-align: left;"><span class="citation" data-cites="openxlsx2">(<a href="#ref-openxlsx2" role="doc-biblioref"><strong>openxlsx2?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">pacman</td>
<td style="text-align: left;">0.5.1</td>
<td style="text-align: left;"><span class="citation" data-cites="pacman">(<a href="#ref-pacman" role="doc-biblioref"><strong>pacman?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">patchwork</td>
<td style="text-align: left;">1.3.1</td>
<td style="text-align: left;"><span class="citation" data-cites="patchwork">(<a href="#ref-patchwork" role="doc-biblioref"><strong>patchwork?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">pROC</td>
<td style="text-align: left;">1.19.0.1</td>
<td style="text-align: left;"><span class="citation" data-cites="pROC">(<a href="#ref-pROC" role="doc-biblioref"><strong>pROC?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">progressr</td>
<td style="text-align: left;">0.15.1</td>
<td style="text-align: left;"><span class="citation" data-cites="progressr">(<a href="#ref-progressr" role="doc-biblioref"><strong>progressr?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">quantreg</td>
<td style="text-align: left;">6.1</td>
<td style="text-align: left;"><span class="citation" data-cites="quantreg">(<a href="#ref-quantreg" role="doc-biblioref"><strong>quantreg?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">quarto</td>
<td style="text-align: left;">1.5.0</td>
<td style="text-align: left;"><span class="citation" data-cites="quarto">(<a href="#ref-quarto" role="doc-biblioref"><strong>quarto?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">reshape</td>
<td style="text-align: left;">0.8.10</td>
<td style="text-align: left;"><span class="citation" data-cites="reshape">(<a href="#ref-reshape" role="doc-biblioref"><strong>reshape?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">rmarkdown</td>
<td style="text-align: left;">2.29</td>
<td style="text-align: left;"><span class="citation" data-cites="rmarkdown2018">(<a href="#ref-rmarkdown2018" role="doc-biblioref"><strong>rmarkdown2018?</strong></a>)</span>; <span class="citation" data-cites="rmarkdown2020">(<a href="#ref-rmarkdown2020" role="doc-biblioref"><strong>rmarkdown2020?</strong></a>)</span>; <span class="citation" data-cites="rmarkdown2024">(<a href="#ref-rmarkdown2024" role="doc-biblioref"><strong>rmarkdown2024?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">stopwords</td>
<td style="text-align: left;">2.3</td>
<td style="text-align: left;"><span class="citation" data-cites="stopwords">(<a href="#ref-stopwords" role="doc-biblioref"><strong>stopwords?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">survival</td>
<td style="text-align: left;">3.7.0</td>
<td style="text-align: left;"><span class="citation" data-cites="survival2000">(<a href="#ref-survival2000" role="doc-biblioref"><strong>survival2000?</strong></a>)</span>; <span class="citation" data-cites="survival2024">(<a href="#ref-survival2024" role="doc-biblioref"><strong>survival2024?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">tictoc</td>
<td style="text-align: left;">1.2.1</td>
<td style="text-align: left;"><span class="citation" data-cites="tictoc">(<a href="#ref-tictoc" role="doc-biblioref"><strong>tictoc?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">tidymodels</td>
<td style="text-align: left;">1.3.0</td>
<td style="text-align: left;"><span class="citation" data-cites="tidymodels">(<a href="#ref-tidymodels" role="doc-biblioref"><strong>tidymodels?</strong></a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">tidytext</td>
<td style="text-align: left;">0.4.3</td>
<td style="text-align: left;"><span class="citation" data-cites="tidytext">(<a href="#ref-tidytext" role="doc-biblioref"><strong>tidytext?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">tidyverse</td>
<td style="text-align: left;">2.0.0</td>
<td style="text-align: left;"><span class="citation" data-cites="tidyverse">(<a href="#ref-tidyverse" role="doc-biblioref"><strong>tidyverse?</strong></a>)</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="authorisations" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="authorisations"><span class="header-section-number">1.3</span> Authorisations</h2>
<p>Pre-authorise access to registry datasets using the <em>gargle</em> package (v1.5.2) <span class="citation" data-cites="gargle">(<a href="#ref-gargle" role="doc-biblioref"><strong>gargle?</strong></a>)</span>.</p>
</section>
<section id="functions-for-processing" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="functions-for-processing"><span class="header-section-number">1.4</span> Functions for Processing</h2>
<p>Include a series of functions to call later in the file for processing data imports.</p>
<p>Function to retrieve files, using <em>googledrive</em> package(v2.1.1) <span class="citation" data-cites="googledrive">(<a href="#ref-googledrive" role="doc-biblioref"><strong>googledrive?</strong></a>)</span>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>get_latest_snapshot <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">base_folder_id =</span> base_folder_id1) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># List all folders in the base directory</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    folders <span class="ot">&lt;-</span> googledrive<span class="sc">::</span><span class="fu">drive_ls</span>(<span class="fu">as_id</span>(base_folder_id), <span class="at">pattern =</span> <span class="st">"^</span><span class="sc">\\</span><span class="st">d{8}$"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">nrow</span>(folders) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">"No dated folders found"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort folders by name (date) in descending order</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    latest_folder <span class="ot">&lt;-</span> folders[<span class="fu">order</span>(folders<span class="sc">$</span>name, <span class="at">decreasing =</span> <span class="cn">TRUE</span>),][<span class="dv">1</span>,]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find the snapshot file in the latest folder</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    snapshot_file <span class="ot">&lt;-</span> googledrive<span class="sc">::</span><span class="fu">drive_ls</span>(</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      latest_folder<span class="sc">$</span>id, </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">pattern =</span> <span class="st">"Registry data snapshot</span><span class="sc">\\</span><span class="st">.xlsx$"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">nrow</span>(snapshot_file) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">"No snapshot file found in latest folder"</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Return both pieces of information as a list</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">list</span>(</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">snapshot =</span> snapshot_file,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">folder_name =</span> latest_folder<span class="sc">$</span>name</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="fu">paste</span>(<span class="st">"Error finding latest snapshot:"</span>, e<span class="sc">$</span>message))</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A general text cleaning function was constructed to apply during first import of raw data files, built on <em>tidyverse</em> (v2.0.0) <span class="citation" data-cites="tidyverse-2">(<a href="#ref-tidyverse-2" role="doc-biblioref"><strong>tidyverse-2?</strong></a>)</span> and <em>stringr</em> (v1.5.1) <span class="citation" data-cites="stringr-2">(<a href="#ref-stringr-2" role="doc-biblioref"><strong>stringr-2?</strong></a>)</span>. The <em>janitor</em> package (v2.2.1) <span class="citation" data-cites="janitor">(<a href="#ref-janitor" role="doc-biblioref"><strong>janitor?</strong></a>)</span> was utilised to clean column names in the resulting dataframe.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generalized text cleaning function</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>clean_text <span class="ot">&lt;-</span> <span class="cf">function</span>(text) {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  text <span class="sc">|&gt;</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_to_lower</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.|</span><span class="sc">\\</span><span class="st">. |</span><span class="sc">\\</span><span class="st">: |</span><span class="sc">\\</span><span class="st">, |w</span><span class="sc">\\</span><span class="st">/"</span>, <span class="st">"; "</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">";+"</span>, <span class="st">"; "</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">"^;|;$"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>bind_and_clean <span class="ot">&lt;-</span> <span class="cf">function</span>(df1, df2, <span class="at">cols =</span> <span class="cn">NULL</span>, <span class="at">clean_cols =</span> <span class="cn">NULL</span>, <span class="at">clean_fn =</span> clean_text) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Store the names of the input dataframes</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  df1_name <span class="ot">&lt;-</span> <span class="fu">deparse</span>(<span class="fu">substitute</span>(df1))</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  df2_name <span class="ot">&lt;-</span> <span class="fu">deparse</span>(<span class="fu">substitute</span>(df2))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Bind rows</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df1, df2)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If cols is specified, select those columns, otherwise keep all columns</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(cols)) {</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> result <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">all_of</span>(cols))</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Apply text cleaning to specified columns</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(clean_cols)) {</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (col <span class="cf">in</span> clean_cols) {</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (col <span class="sc">%in%</span> <span class="fu">names</span>(result)) {</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        result[[col]] <span class="ot">&lt;-</span> <span class="fu">clean_fn</span>(result[[col]])</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">warning</span>(glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"Column '{col}' not found in dataframe"</span>))</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove the input dataframes from the parent environment</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">c</span>(df1_name, df2_name), <span class="at">envir =</span> <span class="fu">parent.frame</span>())</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Clean column names for consistency</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  result <span class="sc">|&gt;</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">case =</span> <span class="st">"big_camel"</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="diagnosis" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="diagnosis"><span class="header-section-number">1.4.1</span> Diagnosis</h3>
<p>Include a series of functions for calling later in the file to process sub-phases of converting clinical text stored in the registry to categories of pathology affecting the foot and ankle. The functions were built on <em>tidyverse</em> and <em>stringr</em> packages to manipulate data, <em>future</em> (v1.67.0) <span class="citation" data-cites="future">(<a href="#ref-future" role="doc-biblioref"><strong>future?</strong></a>)</span> and <em>furrr</em> (v0.3.1) <span class="citation" data-cites="furrr">(<a href="#ref-furrr" role="doc-biblioref"><strong>furrr?</strong></a>)</span> to enable distributed processing of the records. The <em>progressr</em> package (v0.15.1) <span class="citation" data-cites="progressr">(<a href="#ref-progressr" role="doc-biblioref"><strong>progressr?</strong></a>)</span> was utlised to enable visual progress to be communicated during processing and <em>memoise</em> (v2.0.1) <span class="citation" data-cites="memoise">(<a href="#ref-memoise" role="doc-biblioref"><strong>memoise?</strong></a>)</span>to cache processing results from batches of subsets of the registry dataset to enable distributed processing.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enable parallel processing</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>future<span class="sc">::</span><span class="fu">plan</span>(multisession)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure progress reporting</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>progressr<span class="sc">::</span><span class="fu">handlers</span>(<span class="st">"progress"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a shared cache (in memory or filesystem)</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>shared_cache <span class="ot">&lt;-</span> memoise<span class="sc">::</span><span class="fu">cache_memory</span>()</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Memoize the target terms loading to match original format</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>load_target_terms <span class="ot">&lt;-</span> memoise<span class="sc">::</span><span class="fu">memoise</span>(<span class="cf">function</span>(sheet_url, <span class="at">sheet_name =</span> <span class="st">"DiagTerm"</span>, <span class="at">range =</span> <span class="st">"A1:C"</span>) {</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  terms <span class="ot">&lt;-</span> googlesheets4<span class="sc">::</span><span class="fu">range_read</span>(</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">ss =</span> sheet_url,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sheet =</span> sheet_name,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">range =</span> range,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">trim_ws =</span> <span class="cn">TRUE</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">TargetTerm =</span> <span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b"</span>, stringr<span class="sc">::</span><span class="fu">str_escape</span>(Term), <span class="st">"</span><span class="sc">\\</span><span class="st">b"</span>))</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">terms =</span> terms,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="fu">str_c</span>(terms<span class="sc">$</span>TargetTerm, <span class="at">collapse =</span> <span class="st">"|"</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Target-Replacement Function</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>create_replace_function <span class="ot">&lt;-</span> <span class="cf">function</span>(target_terms_df) {</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(string) {</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Find the matched term in target_terms_df</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    match <span class="ot">&lt;-</span> <span class="fu">filter</span>(target_terms_df, Term <span class="sc">==</span> string)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if a match is found</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(match) <span class="sc">==</span> <span class="dv">1</span>) {</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(match<span class="sc">$</span>ReplaceTerm)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Return the original string if no match is found</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(string)</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>clean_diagnosis_text <span class="ot">&lt;-</span> memoise<span class="sc">::</span><span class="fu">memoise</span> (<span class="cf">function</span>(df) {</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">|&gt;</span> </span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(TreatmentID, DiagnosisRawFinal, DiagnosisRawPrelim) <span class="sc">|&gt;</span> </span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">unite</span>(<span class="st">"DiagnosisRaw"</span>, <span class="fu">c</span>(DiagnosisRawFinal, DiagnosisRawPrelim), </span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>          <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>, <span class="at">sep =</span> <span class="st">"; "</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(stringr<span class="sc">::</span><span class="fu">str_count</span>(<span class="fu">str_to_lower</span>(DiagnosisRaw), <span class="st">""</span>) <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw =</span> stringr<span class="sc">::</span><span class="fu">str_squish</span>(DiagnosisRaw),</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(DiagnosisRaw, <span class="st">"</span><span class="sc">\\</span><span class="st">.|</span><span class="sc">\\</span><span class="st">. |</span><span class="sc">\\</span><span class="st">: |</span><span class="sc">\\</span><span class="st">, |w</span><span class="sc">\\</span><span class="st">/"</span>, <span class="st">";"</span>),</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(DiagnosisRaw, <span class="st">"</span><span class="sc">\\</span><span class="st">#"</span>, <span class="st">"fracture"</span>),</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(DiagnosisRaw, <span class="st">";+"</span>, <span class="st">";"</span>),</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw =</span> stringr<span class="sc">::</span><span class="fu">str_trim</span>(stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(DiagnosisRaw, <span class="st">"^;|;$"</span>))</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Modified process_batch1 to maintain sequence integrity</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>process_batch1 <span class="ot">&lt;-</span> <span class="cf">function</span>(batch_df) {</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>  batch_df <span class="sc">|&gt;</span> </span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw1 =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">str_to_lower</span>(DiagnosisRaw), </span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>        <span class="st">"</span><span class="sc">\\</span><span class="st">bwith</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">band</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bas well as</span><span class="sc">\\</span><span class="st">b"</span>, <span class="st">";"</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw1 =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(DiagnosisRaw1, <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>, <span class="st">" "</span>),</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw1 =</span> stringr<span class="sc">::</span><span class="fu">str_trim</span>(DiagnosisRaw1)</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">separate_rows</span>(DiagnosisRaw1, <span class="at">sep =</span> <span class="st">";"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>      <span class="at">DiagnosisRaw1 =</span> stringr<span class="sc">::</span><span class="fu">str_trim</span>(DiagnosisRaw1),</span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Add row identifier before unnesting</span></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>      <span class="at">SequenceID =</span> <span class="fu">row_number</span>()</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">nchar</span>(DiagnosisRaw1) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>    tidytext<span class="sc">::</span><span class="fu">unnest_tokens</span>(</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>      <span class="at">output =</span> Term,</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>      <span class="at">input =</span> DiagnosisRaw1,</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>      <span class="at">token =</span> <span class="st">"regex"</span>,</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>      <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>,</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>      <span class="at">format =</span> <span class="st">"text"</span>,</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>      <span class="at">to_lower =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">drop =</span> <span class="cn">FALSE</span></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">anti_join</span>(stop_words, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Term"</span> <span class="ot">=</span> <span class="st">"word"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>      <span class="at">TermLength =</span> stringr<span class="sc">::</span><span class="fu">str_length</span>(Term),</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Maintain original ordering within each diagnosis</span></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>      <span class="at">term_sequence =</span> <span class="fu">row_number</span>()</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TreatmentID, SequenceID) <span class="sc">|&gt;</span></span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>      <span class="at">term_count =</span> <span class="fu">n</span>(),</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>      <span class="at">term_position =</span> <span class="fu">row_number</span>()</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a><span class="co"># Modified process_batch2 to preserve sequence information</span></span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>process_batch2 <span class="ot">&lt;-</span> <span class="cf">function</span>(batch_df, target_terms) {</span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>  replace_function <span class="ot">&lt;-</span> <span class="fu">create_replace_function</span>(target_terms<span class="sc">$</span>terms)</span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>  batch_df <span class="sc">|&gt;</span> </span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>      <span class="at">Term1 =</span> stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(Term, target_terms<span class="sc">$</span>pattern, replace_function)</span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> </span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_detect</span>(</span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>        Term1, </span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>        <span class="st">"</span><span class="sc">\\</span><span class="st">d+(?!(?:st|nd|rd|th)</span><span class="sc">\\</span><span class="st">b)|(left|right)"</span>, </span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>        <span class="at">negate =</span> <span class="cn">TRUE</span></span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Preserve grouping and sequence</span></span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(TreatmentID, SequenceID, term_position)</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a><span class="co"># Modified tokenize_diagnosis to handle sequence preservation</span></span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>tokenize_diagnosis <span class="ot">&lt;-</span> memoise<span class="sc">::</span><span class="fu">memoise</span>(<span class="cf">function</span>(df, <span class="at">stop_words =</span> <span class="cn">NULL</span>, <span class="at">batch_size =</span> <span class="dv">500</span>, process_batch) {</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(stop_words)) {</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>    stop_words <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">get_stopwords</span>()</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">missing</span>(process_batch)) {</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"You must provide a process_batch function."</span>)</span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add global identifier before splitting</span></span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">global_id =</span> <span class="fu">row_number</span>())</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the data into batches</span></span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>  df_split <span class="ot">&lt;-</span> <span class="fu">split</span>(df, <span class="fu">ceiling</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(df)) <span class="sc">/</span> batch_size))</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process batches while maintaining order</span></span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>  furrr<span class="sc">::</span><span class="fu">future_map_dfr</span>(df_split, process_batch, <span class="at">.progress =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(global_id, term_position)</span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Term replacement logic</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>apply_target_terms <span class="ot">&lt;-</span> memoise<span class="sc">::</span><span class="fu">memoise</span>(<span class="cf">function</span>(df, target_terms, <span class="at">batch_size =</span> <span class="dv">500</span>, process_batch) {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ensure `process_batch` is provided</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">missing</span>(process_batch)) {</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"You must provide a process_batch function."</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the data into batches</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  df_split <span class="ot">&lt;-</span> <span class="fu">split</span>(df, <span class="fu">ceiling</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(df)) <span class="sc">/</span> batch_size))</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process each batch using the provided `process_batch` function</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  furrr<span class="sc">::</span><span class="fu">future_map_dfr</span>(df_split, <span class="sc">~</span><span class="fu">process_batch</span>(.x, target_terms), <span class="at">.progress =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to safely process diagnosis</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>safe_process_diagnosis <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    snapshot_df,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    target_terms_url,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">stop_words =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">batch_size =</span> <span class="dv">1000</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">tokenize_batch =</span> process_batch1,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">term_batch =</span> process_batch2,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">workers =</span> <span class="dv">4</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    ) {    <span class="co"># Add workers parameter</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set up parallel processing</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  old_plan <span class="ot">&lt;-</span> <span class="fu">plan</span>(multisession, <span class="at">workers =</span> workers)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">on.exit</span>(<span class="fu">plan</span>(old_plan), <span class="at">add =</span> <span class="cn">TRUE</span>)  <span class="co"># Ensure we reset the plan when done</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set up progress handling</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">handlers</span>(<span class="st">"progress"</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tryCatch</span>({</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">with_progress</span>({</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>      p <span class="ot">&lt;-</span> <span class="fu">progressor</span>(<span class="at">steps =</span> <span class="dv">4</span>)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Load target terms</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">p</span>(<span class="at">message =</span> <span class="st">"Loading target terms..."</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>      terms_data <span class="ot">&lt;-</span> <span class="fu">load_target_terms</span>(target_terms_url)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Process the diagnosis data with progress updates</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">p</span>(<span class="at">message =</span> <span class="st">"Cleaning text..."</span>)</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>      cleaned_data <span class="ot">&lt;-</span> <span class="fu">clean_diagnosis_text</span>(snapshot_df)</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Ensure stop_words is available</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">is.null</span>(stop_words)) {</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        stop_words <span class="ot">&lt;-</span> tidytext<span class="sc">::</span><span class="fu">get_stopwords</span>()</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Create the tokenize batch function closure</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>      tokenize_batch_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(batch_df) {</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">process_batch1</span>(batch_df)</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">environment</span>(tokenize_batch_fn)<span class="sc">$</span>stop_words <span class="ot">&lt;-</span> stop_words</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">p</span>(<span class="at">message =</span> <span class="st">"Tokenizing diagnosis..."</span>)</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>      tokenized_data <span class="ot">&lt;-</span> <span class="fu">tokenize_diagnosis</span>(</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">df =</span> cleaned_data, </span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>        <span class="at">stop_words =</span> stop_words,</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>        <span class="at">batch_size =</span> batch_size,</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>        <span class="at">process_batch =</span> tokenize_batch_fn</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>      <span class="fu">p</span>(<span class="at">message =</span> <span class="st">"Applying target terms..."</span>)</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>      processed_data <span class="ot">&lt;-</span> <span class="fu">apply_target_terms</span>(</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">df =</span> tokenized_data, </span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">target_terms =</span> terms_data,</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">batch_size =</span> batch_size,</span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>        <span class="at">process_batch =</span> term_batch</span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>      processed_data</span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Error in processing: "</span>, e<span class="sc">$</span>message)</span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Clean up any remaining connections or resources</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>    future<span class="sc">:::</span><span class="fu">ClusterRegistry</span>(<span class="st">"stop"</span>)</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(e)</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Function to conduct categorisation of terms for pathology (diagnosis) stored in the registry.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' Categorize medical diagnoses with anatomical and pathological classifications</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param df A dataframe containing Term2 columns</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param remove_intermediate Logical, whether to remove intermediate processing columns</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param use_parallel Logical, whether to use parallel processing for large datasets</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param chunk_size Integer, number of rows to process in each parallel chunk</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#' @return A dataframe with new classification columns based on Term2 pattern matching</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>categorize_diagnosis <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    df,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">remove_intermediate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">use_parallel =</span> <span class="cn">FALSE</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">chunk_size =</span> <span class="dv">1000</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    ) {</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Input validation with more detailed error message</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  required_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Term2"</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">all</span>(required_cols <span class="sc">%in%</span> <span class="fu">names</span>(df))) {</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Missing required column 'Term2'. Available columns are: "</span>, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>         <span class="fu">paste</span>(<span class="fu">names</span>(df), <span class="at">collapse =</span> <span class="st">", "</span>))</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ensure df is a data.frame</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(df)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Main processing function</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  process_chunk <span class="ot">&lt;-</span> <span class="cf">function</span>(chunk_df) {</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure required packages are loaded in parallel context</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">require</span>(dplyr)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">require</span>(stringr)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert chunk to data.frame to ensure consistent behavior</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    chunk_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(chunk_df)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    chunk_df <span class="sc">|&gt;</span> </span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Extract diagnosis side</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Anatomical classifications</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">Ankle =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"ankle|tibiotalar|</span><span class="sc">\\</span><span class="st">bplafond</span><span class="sc">\\</span><span class="st">b|dome|malleol*|weber|achilles|tendo-achilles|fibula|</span><span class="sc">\\</span><span class="st">btibia</span><span class="sc">\\</span><span class="st">b|gutter|perone*|syndesmo|gastrocnemius|talo-fibular|talofibular|calcaneofibular|calcaneo-fibular|gutter|(lateral|medial)</span><span class="sc">\\</span><span class="st">s+ligament|tibia|deltoid|compartment.+syndrome"</span>) <span class="sc">&amp;</span> <span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2,<span class="st">"(lateral|medial)</span><span class="sc">\\</span><span class="st">s+collateral</span><span class="sc">\\</span><span class="st">s+ligament"</span>, <span class="at">negate =</span> <span class="cn">TRUE</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">Rearfoot =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"</span><span class="sc">\\</span><span class="st">btarsal</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">btalar(?!</span><span class="sc">\\</span><span class="st">s+dome)|talus|talonavic*|plantar|rearfoot|hindfoot|trigonum|hindfeet|tarsi|calcaneus|</span><span class="sc">\\</span><span class="st">bcalcaneal</span><span class="sc">\\</span><span class="st">b|heel|subtalar"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">Midfoot =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"metatarsus|tarsometatarsal|tarso-metatarsal|</span><span class="sc">\\</span><span class="st">bmetatarsal</span><span class="sc">\\</span><span class="st">b|talonavicular|navicular|cuneiform|lisfranc|cuboid|midfoot|jones|chopart"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">Forefoot =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"digit*|morton*|metatarsophalangeal|phalange*|phalanx|hallux|nail|forefoot|forefeet|bunionette|hallucis|onychomycosis|paronychia|bunion|hammertoe|claw|sesamoid"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>        <span class="at">Foot =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"</span><span class="sc">\\</span><span class="st">bfeet</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bfoot</span><span class="sc">\\</span><span class="st">b|cavovarus|equinovarus|equinus|pes|charcot|footdrop|neuropathy"</span>),<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Pathological classifications</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>        <span class="at">Arthritis =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"psoria|arthritis|osteoarthritis|rheumatoid|gout|erosion|arthropathy"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>        <span class="at">Injury =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"injury|injuries|axial|impact|crush|rotation|inversion|forced|accident|tear|torn|ruptur|avulsion|fracture|defect|(osteochondral|chondral|cartilage).+lesion|sprain|haemarthrosis|disruption|wound|laceration|penetrating|hernia|maisonneuve"</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">Deformity =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"malalignment|deformit|angulation|contracture|contraction|</span><span class="sc">\\</span><span class="st">bvalgus</span><span class="sc">\\</span><span class="st">b|varus|planovalgus|valgoplanus|dysfunction|extension|adductus|crossover|hammer|claw|bunionette|bunion|interphalangeus|(relatively|significantly).+long|relative.+long"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">Metatarsalgia =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"metatarsalgia|forefoot.+overload"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>        <span class="at">SoftTissueDisorder =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"tenosynovitis|enthesopathy|teno-synovitis|tendinopathy|tendinitis|tendonitis|tendinosis|fasciosis|fasciitis|sesamoiditis|arthrofibro|scar|tibialis posterior.+dysfunction|dysfunction tibialis posterior"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">Growth =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"cyst|ganglion|neuroma|malformation|fibroma|tumour|accessory|ingrown|in_grown|coalition|(?&lt;!(?:chondral|osteochondral|cartilage)</span><span class="sc">\\</span><span class="st">s)</span><span class="sc">\\</span><span class="st">blesion</span><span class="sc">\\</span><span class="st">b|xanthomas|osteoma|gioma|schwannoma|chondroma|lump|villonodular|callosity|corn|mass|</span><span class="sc">\\</span><span class="st">b(non|mal|delayed)[-]?union|pseudo-articulation|bone.+loss|exostosis|spur|osteophyte|onychogryphosis|bipartite|neuroma|chondromatosis"</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">Neural =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"foot.+drop|footdrop|nerve|neuropathy|neural|sensory|charcot|motor|pain.+syndrome|tunnel.+syndrome|neuropathic|denervation"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>        <span class="at">Infection =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"infect|osteomyelitis|cellulitis|onychomycosis|ulcer|paronychia"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">Impingement =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"impingement|stiffness|os.+trigonum"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>        <span class="at">Instability =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"disloc|unstable|sublux|instability|talar.+shift|widening|maisonneuve"</span>),<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Final classifications</span></span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">Other =</span> <span class="fu">if_else</span>(<span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">c</span>(Arthritis<span class="sc">:</span>Instability))) <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">|</span> <span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2,<span class="st">"foreign.+(body|material)"</span>),<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>        <span class="at">NegatePathology =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(chunk_df<span class="sc">$</span>Term2, <span class="st">"(?&lt;!ab?)normal|(?&lt;!(non|mal)-?)|nil.+pathology|</span><span class="sc">\\</span><span class="st">bheal</span><span class="sc">\\</span><span class="st">b|reduced|non-tender|unremarkable"</span>),<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Process data based on parallel preference</span></span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (use_parallel <span class="sc">&amp;&amp;</span> <span class="fu">nrow</span>(df) <span class="sc">&gt;</span> chunk_size) {</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure required packages are loaded in main session</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">require</span>(future)</span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">require</span>(furrr)</span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set up parallel processing</span></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plan</span>(multisession)</span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create chunks with explicit data.frame conversion</span></span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>    chunks <span class="ot">&lt;-</span> <span class="fu">split</span>(df, <span class="fu">ceiling</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(df))<span class="sc">/</span>chunk_size))</span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>    chunks <span class="ot">&lt;-</span> <span class="fu">lapply</span>(chunks, as.data.frame)</span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Process chunks in parallel</span></span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a>    df_processed <span class="ot">&lt;-</span> <span class="fu">future_map_dfr</span>(chunks, process_chunk, <span class="at">.progress =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a>    df_processed <span class="ot">&lt;-</span> <span class="fu">process_chunk</span>(df)</span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-94"><a href="#cb8-94" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(df_processed)</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a><span class="co"># Create cached version</span></span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>categorize_diagnosis_cached <span class="ot">&lt;-</span> memoise<span class="sc">::</span><span class="fu">memoise</span>(categorize_diagnosis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Concatenated terms for each treatment record using <em>tidyverse</em> syntax. Generated a method to cumulatively concatenate terms within a treatment record that have been split into text sequences delimited by punctuation (e.g.&nbsp;“;”).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>concatenate_diagnoses <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort the data by TreatmentID and SequenceRow in descending order</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(TreatmentID, <span class="fu">desc</span>(SequenceRow)) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(TreatmentID) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">CumulativeTerm =</span> <span class="fu">accumulate</span>(Term2, </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">.f =</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                                   <span class="cf">if</span> (<span class="fu">is.na</span>(x)) y <span class="cf">else</span> <span class="fu">paste</span>(y, x, <span class="at">sep =</span> <span class="st">"; "</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                                 }) <span class="sc">%&gt;%</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">last</span>()</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>concatenate_cumulative <span class="ot">&lt;-</span> <span class="cf">function</span>(SequenceRow, ProductCuml, Term2) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a dataframe to help with tracking</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">SequenceRow =</span> SequenceRow, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ProductCuml =</span> ProductCuml, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Term2 =</span> Term2,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Sort by SequenceRow to ensure correct processing</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> df[<span class="fu">order</span>(df<span class="sc">$</span>SequenceRow), ]</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Initialize result vector</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">character</span>(<span class="fu">length</span>(SequenceRow))</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use accumulate to build up the terms</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  accumulated_result <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">accumulate</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df), </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">.init =</span> <span class="fu">list</span>(</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">accumulated_terms =</span> <span class="fu">character</span>(),</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">last_classified_term =</span> <span class="cn">NA_character_</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">function</span>(acc, i) {</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Current row details</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>      current_term <span class="ot">&lt;-</span> df<span class="sc">$</span>Term2[i]</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>      current_product_cuml <span class="ot">&lt;-</span> df<span class="sc">$</span>ProductCuml[i]</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>      <span class="co"># If current row is classified (ProductCuml &gt;= 1)</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (current_product_cuml <span class="sc">&gt;=</span> <span class="dv">1</span>) {</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Concatenate all accumulated terms with current term</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">length</span>(acc<span class="sc">$</span>accumulated_terms) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>          combined_term <span class="ot">&lt;-</span> <span class="fu">str_c</span>(</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>            <span class="fu">str_c</span>(acc<span class="sc">$</span>accumulated_terms, <span class="at">collapse =</span> <span class="st">"; "</span>), </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>            current_term, </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>            <span class="at">sep =</span> <span class="st">"; "</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>          combined_term <span class="ot">&lt;-</span> current_term</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Return updated state</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">accumulated_terms =</span> <span class="fu">character</span>(),</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>          <span class="at">last_classified_term =</span> combined_term</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Accumulate terms for rows with ProductCuml &lt; 1</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>          <span class="at">accumulated_terms =</span> <span class="fu">c</span>(acc<span class="sc">$</span>accumulated_terms, current_term),</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>          <span class="at">last_classified_term =</span> acc<span class="sc">$</span>last_classified_term</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the last_classified_term for each row</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">sapply</span>(accumulated_result[<span class="sc">-</span><span class="dv">1</span>], <span class="st">`</span><span class="at">[[</span><span class="st">`</span>, <span class="st">"last_classified_term"</span>)</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ensure result matches original input order</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>  result[<span class="fu">order</span>(SequenceRow)] <span class="ot">&lt;-</span> result</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="title-and-abstract" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Title and abstract</h1>
<!--# Indicate the study’s design with a commonly used term in the title or the abstract. Provide in the abstract an informative and balanced summary of what was done and what was found -->
<p>The following working title is proposed;</p>
<div id="workingtitle" style="color: gray">
<p>Pain and function at baseline assessment of foot and ankle pathology: A cross-sectional analysis of the SOFARI Registry</p>
</div>
<section id="abstract" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="abstract"><span class="header-section-number">2.1</span> Abstract</h2>
<div id="abstract" style="color: gray">
<p>Purpose:</p>
<p>Methods:</p>
<p>Results: Include geographic region and timeframe</p>
<p>Conclusion:</p>
</div>
</section>
<section id="record-1.1-data-type" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="record-1.1-data-type"><span class="header-section-number">2.2</span> RECORD [1.1] Data Type</h2>
<!--# RECORD 1.1: The type of data used should be specified in the title or abstract. When possible, the name of the databases used should be included. -->
<p>Data type included in Title.</p>
</section>
<section id="record-1.2-geography-and-timeframe" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="record-1.2-geography-and-timeframe"><span class="header-section-number">2.3</span> RECORD [1.2] Geography and Timeframe</h2>
<!--# RECORD 1.2: If applicable, the geographic region and timeframe within which the study took place should be reported in the title or abstract. -->
<p>Included in abstract.</p>
</section>
<section id="record-1.3-data-linkage" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="record-1.3-data-linkage"><span class="header-section-number">2.4</span> RECORD [1.3] Data Linkage</h2>
<!--# RECORD 1.3: If linkage between databases was conducted for the study, this should be clearly stated in the title or abstract -->
<p>No data linkage to another data was performed for this analysis.</p>
</section>
<section id="record-2-backgroundrationale" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="record-2-backgroundrationale"><span class="header-section-number">2.5</span> RECORD [2] Background/rationale</h2>
<!--# Explain the scientific background and rationale for the investigation being reported -->
</section>
<section id="record-3-objectives" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="record-3-objectives"><span class="header-section-number">2.6</span> RECORD [3] Objectives</h2>
<!--# State specific objectives, including any prespecified hypotheses -->
<p>PICOS question format</p>
<div id="tbl-questions" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-questions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Questions presented in PICOS format
</figcaption>
<div aria-describedby="tbl-questions-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Component</th>
<th>Question 1</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<section id="hypotheses" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="hypotheses"><span class="header-section-number">2.6.1</span> Hypotheses</h3>
<p>Clinical and statistical hypotheses presented in tabular format</p>
<div id="tbl-hypotheses" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-hypotheses-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Clinical and statistical hypotheses for question 1 and 2
</figcaption>
<div aria-describedby="tbl-hypotheses-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th>Col1</th>
<th>Col2</th>
<th>Col3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
</section>
<section id="methods" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Methods</h1>
<section id="record-4-study-design" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="record-4-study-design"><span class="header-section-number">3.1</span> RECORD [4] Study design</h2>
<!--# Present key elements of study design early in the paper -->
<p>Cross-sectional analysis of registry data.</p>
</section>
<section id="record-5-setting" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="record-5-setting"><span class="header-section-number">3.2</span> RECORD [5] Setting</h2>
<!--# Describe the setting, locations, and relevant dates, including periods of recruitment, exposure, follow-up, and data collection -->
<p>The SOFARI (Sydney Orthopaedic Foot and Ankle Research Institute) registry is a multi-site system based in Sydney, Australia. It commenced recruitment with one specialist in Jun-2020 and was expanded sequentially to three other specialists by Aug-2021.</p>
<p>Patients were recruited in an opt-out consent model through electronic communication (sms, email) at the time of their initial consultation with their surgeon. Recruitment and data collection into the registry for the present analysis spans 6-Jun-2020 to 31-Jan-2025.</p>
</section>
<section id="record-8-data-sourcesmeasurement" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="record-8-data-sourcesmeasurement"><span class="header-section-number">3.3</span> RECORD [8] Data sources/measurement</h2>
<!--# For each variable of interest, give sources of data and details of methods of assessment (measurement). Describe comparability of assessment methods if there is more than one group -->
<p>Data was sourced directly from the SOFARI registry. Patient and treatment information were entered into the database through the registry interface and compiled into a data cube (snapshot) every quarter. Complications and adverse events captured into an online form (QuestionPro, USA) and linked using record identifier codes. Patient-reported outcomes were collected from the patient through electronic communication (sms, email) of a form link specific to baseline assessment and captured into an online form (QuestionPro, USA) for each questionnaire of interest. PROMs data were also linked back to patient and treatment infromation using record identifier codes.</p>
<section id="data-import-and-preparation" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="data-import-and-preparation"><span class="header-section-number">3.3.1</span> Data Import and Preparation</h3>
<p>Data was retrieved and formatted using <em>openxlsx</em> <span class="citation" data-cites="openxlsx2">(<a href="#ref-openxlsx2" role="doc-biblioref"><strong>openxlsx2?</strong></a>)</span> to retrieve static snapshot files and <em>googlesheets4</em> (v1.1.1) <span class="citation" data-cites="googlesheets4">(<a href="#ref-googlesheets4" role="doc-biblioref"><strong>googlesheets4?</strong></a>)</span> to retrieve live database tables. Text and code output were integrated using the <em>epoxy</em> package (v1.0.0) <span class="citation" data-cites="epoxy">(<a href="#ref-epoxy" role="doc-biblioref"><strong>epoxy?</strong></a>)</span>.</p>
<p>Source files were specified and stored as global variables to call on in further functions.</p>
<p>Read in complication tables, then combine and clean the text description of complications as required.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Authenticate for sheets using the same token</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gs4_auth</span>(<span class="at">token =</span> <span class="fu">drive_token</span>())</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>ComplicTable1 <span class="ot">&lt;-</span> googlesheets4<span class="sc">::</span><span class="fu">read_sheet</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">ss =</span> SheetIDs<span class="sc">$</span>Complic1,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"Complications"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">range =</span> <span class="st">"A2:AD"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="st">"cccTlnicicccccccccccicccccDccD"</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>ComplicTable2 <span class="ot">&lt;-</span> <span class="fu">range_read</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">ss =</span> SheetIDs<span class="sc">$</span>Complic2,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"Complications"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">range =</span> <span class="st">"A2:AD"</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="st">"cccTlnicicccccccccccicccccDccD"</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Complication Table</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>MasterComplic <span class="ot">&lt;-</span> <span class="fu">bind_and_clean</span>(</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">df1 =</span> ComplicTable1, </span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">df2 =</span> ComplicTable2, </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TreatmentID"</span>, </span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ComplicationID"</span>, </span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ComplicationOccurrence"</span>,</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ComplicationNature"</span>, </span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"DateOfOccurrence"</span>,</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ComplicationTreatmentOffered"</span>,</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"DateReoperation"</span>),</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">clean_cols =</span> <span class="st">"ComplicationNature"</span>,</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">clean_fn =</span> clean_text  <span class="co"># Pass the function directly</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Read in patient tables, then combine and clean the text columns as required.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Authenticate for sheets using the same token</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gs4_auth</span>(<span class="at">token =</span> <span class="fu">drive_token</span>())</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>PatientTable1 <span class="ot">&lt;-</span> <span class="fu">range_read</span>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">ss =</span> SheetIDs<span class="sc">$</span>Patient1,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"Patient"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="fu">c</span>(</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PatientCreationDate"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PatientID"</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"LastName"</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"FirstName"</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"AlternateID"</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DateOfBirth"</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sex"</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RegistryStatus"</span>,</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RegistryStatusNotes"</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DateRegistryStatus"</span>,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"NotificationMethod"</span>,</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"NoTreatmentRecords"</span>,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Email"</span>,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Phone"</span>,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Postcode"</span>,</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PatientRegistrationStatus"</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DatePatientRegistration"</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"TrueNoTreatmentRecords"</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="at">range =</span> <span class="st">"A6:R"</span>,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="at">col_types =</span> <span class="st">"DccccDcccTciccccTi"</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>PatientTable2 <span class="ot">&lt;-</span> <span class="fu">range_read</span>(</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">ss =</span> SheetIDs<span class="sc">$</span>Patient2,</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"Patient"</span>,</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="fu">c</span>(</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PatientCreationDate"</span>,</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PatientID"</span>,</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"LastName"</span>,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"FirstName"</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"AlternateID"</span>,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DateOfBirth"</span>,</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sex"</span>,</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RegistryStatus"</span>,</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">"RegistryStatusNotes"</span>,</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DateRegistryStatus"</span>,</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>  <span class="st">"NotificationMethod"</span>,</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>  <span class="st">"NoTreatmentRecords"</span>,</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Email"</span>,</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Phone"</span>,</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Postcode"</span>,</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PatientRegistrationStatus"</span>,</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DatePatientRegistration"</span>,</span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>  <span class="st">"TrueNoTreatmentRecords"</span></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a><span class="at">range =</span> <span class="st">"A6:R"</span>,</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a><span class="at">col_types =</span> <span class="st">"DccccDcccTciccccTi"</span>)</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>MasterPatient <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>  PatientTable1,</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>  PatientTable2</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">AlternateID2 =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(AlternateID,<span class="st">"MS1|MS2"</span>)</span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>  PatientID</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">RecordNum =</span> <span class="fu">row_number</span>()</span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()</span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(PatientTable1,</span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>  PatientTable2</span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Process the registry snapshot by retrieving the file and use <em>tidyverse</em> to add columns, recode existing columns and create an additional identifier using <em>tidyr</em> (v1.3.1) <span class="citation" data-cites="tidyr">(<a href="#ref-tidyr" role="doc-biblioref"><strong>tidyr?</strong></a>)</span>, representing the patient and their side, to track multiple treatments for each limb. Dates were reformatted to a form appropriate for analysis using <em>lubridate</em> (v1.9.4) <span class="citation" data-cites="lubridate">(<a href="#ref-lubridate" role="doc-biblioref"><strong>lubridate?</strong></a>)</span>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the latest snapshot file</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>latest_snapshot <span class="ot">&lt;-</span> <span class="fu">get_latest_snapshot</span>()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You can then use these in your subsequent code:</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>temp_file <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">".xlsx"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">drive_download</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> latest_snapshot<span class="sc">$</span>snapshot<span class="sc">$</span>id,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">path =</span> temp_file,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">overwrite =</span> <span class="cn">TRUE</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Correction to reset back to excel origin</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>DaysDiff <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.duration</span>(<span class="fu">interval</span>(<span class="fu">ymd</span>(<span class="st">"1899-12-30"</span>), <span class="fu">ymd</span>(<span class="st">"1970-01-01"</span>))),<span class="st">"days"</span>)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>Snapshot <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  temp_file,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"General"</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">colNames =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">detectDates =</span> <span class="cn">FALSE</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Convert to dates</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">across</span>(</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>            <span class="fu">starts_with</span>(<span class="st">"Date"</span>),</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>lubridate<span class="sc">::</span><span class="fu">as_date</span>(., <span class="at">origin =</span> <span class="st">"1899-12-30"</span>)</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Then get the numeric values directly</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">across</span>(</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>            <span class="fu">starts_with</span>(<span class="st">"Date"</span>),</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span><span class="fu">as.numeric</span>(.)<span class="sc">+</span> DaysDiff,</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">.names =</span> <span class="st">"{.col}Num"</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">Sex2 =</span> <span class="fu">case_when</span>( <span class="co"># Fix up sex entries</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>          Sex <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">~</span> <span class="st">"Male"</span>,</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>          Sex <span class="sc">==</span> <span class="st">"Male"</span> <span class="sc">~</span> <span class="st">"Male"</span>,</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>          Sex <span class="sc">==</span> <span class="st">"F"</span> <span class="sc">~</span> <span class="st">"Female"</span>,</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>          Sex <span class="sc">==</span> <span class="st">"Female"</span> <span class="sc">~</span> <span class="st">"Female"</span>,</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>          Sex <span class="sc">==</span> <span class="st">"N"</span> <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>          <span class="at">.default =</span> <span class="cn">NA_character_</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>        <span class="at">PatientID =</span> stringr<span class="sc">::</span><span class="fu">str_split_i</span>(TreatmentID,<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>,<span class="dv">1</span>)</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    MasterPatient <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    PatientID,</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>    AlternateID2,</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>    AlternateID</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a><span class="at">by =</span> <span class="st">"PatientID"</span>,</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a><span class="at">relationship =</span> <span class="st">"many-to-many"</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">unite</span>(</span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>  <span class="st">"CombID"</span>,</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"PatientID"</span>,<span class="st">"AffectedSide"</span>),</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">"."</span>,</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">FALSE</span>,</span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">remove =</span> <span class="cn">FALSE</span></span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>  CombID</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(</span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>  DateInitialExaminationNum</span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">RecordNum =</span> <span class="fu">row_number</span>()</span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(</span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(PatientID, <span class="fu">ends_with</span>(<span class="st">"Num"</span>),RecordNum),</span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>        <span class="at">.before =</span> TreatmentID</span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a><span class="co">#Import STROBEInput to conduct flowchart and record selection "Strobe_Input"</span></span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-71"><a href="#cb13-71" aria-hidden="true" tabindex="-1"></a>STROBEInput <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(</span>
<span id="cb13-72"><a href="#cb13-72" aria-hidden="true" tabindex="-1"></a>  temp_file,</span>
<span id="cb13-73"><a href="#cb13-73" aria-hidden="true" tabindex="-1"></a>  <span class="at">sheet =</span> <span class="st">"Strobe_Input"</span>,</span>
<span id="cb13-74"><a href="#cb13-74" aria-hidden="true" tabindex="-1"></a>  <span class="at">colNames =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-75"><a href="#cb13-75" aria-hidden="true" tabindex="-1"></a>  <span class="at">detectDates =</span> <span class="cn">FALSE</span></span>
<span id="cb13-76"><a href="#cb13-76" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-77"><a href="#cb13-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-78"><a href="#cb13-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean up</span></span>
<span id="cb13-79"><a href="#cb13-79" aria-hidden="true" tabindex="-1"></a><span class="fu">unlink</span>(temp_file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="record-6-participants" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="record-6-participants"><span class="header-section-number">3.4</span> RECORD [6] Participants</h2>
<!--# (a) Cohort study—Give the eligibility criteria, and the sources and methods of selection of participants. Describe methods of follow-up -->
<p>Participants are eligible for inclusion in the SOFARI registry if they meet the following criteria</p>
<ul>
<li><p>Presented with a pathology localised to the foot or ankle</p></li>
<li><p>Offered or recommended treatment by the reviewing surgeon (operative or non-operative)</p></li>
<li><p>Aged 16 or over at the time of initial consultation for the condition included in the registry</p></li>
<li><p>Have not withdrawn their data from the registry (opt-out)</p></li>
</ul>
<section id="record-6.1-sample-selection" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="record-6.1-sample-selection"><span class="header-section-number">3.4.1</span> Record [6.1] Sample selection</h3>
<!--# RECORD 6.1: The methods of study population selection (such as codes or algorithms used to identify subjects) should be listed in detail. If this is not possible, an explanation should be provided. -->
<p>Record selection was based on the following criteria;</p>
<ul>
<li><p>The status of the record was not set to <em>Archived</em> (the treatment record does not meet inclusion into the registry).</p></li>
<li><p>The status of the record was not set to <em>Pending Initial Consultation</em> or <em>Pending Imaging</em> (not eligible for formal diagnosis).</p></li>
<li><p>The record represented the first presentation for the limb within the registry. This may not represent the first presentation to the clinic.</p></li>
<li><p>The record was eligible for baseline PROMs capture. That is, sufficient time was available between patient registration and definitive treatment offered by the reviewing surgeon. In some cases, trauma cases first present to the clinic after their definitive surgical treatment and baseline PROMs cannot be captured prior to surgery.</p></li>
<li><p>Diagnosis text had been retrieved at the time of analysis.</p></li>
</ul>
<p>The <em>consort</em> package (v1.2.2) <span class="citation" data-cites="consort">(<a href="#ref-consort" role="doc-biblioref"><strong>consort?</strong></a>)</span> was used to create a table of indications for exclusion for each record and plot a flowchart (see 13.1) indicating the flow from total records processed to the final inclusion sample for analysis.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EligibleAtPreop </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># - NFFU/failed with no treatment date</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># - NFFU/failed &lt; treatmentdate</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># - pre-registry treatment</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># - recordcreationdate &gt;= datetreatment</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># - registrystatus = open:no proms &lt;= datetreatment</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>STROBEFlow <span class="ot">&lt;-</span> STROBEInput <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.na</span>(TreatmentID)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  Snapshot <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    CombID,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    DateInitialExamination,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    EligibleAtPreop</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  CombID,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  TreatmentStatus,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  TreatmentStatusNotes,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  DateInitialExamination,</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  EligibleAtPreop,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  DiagnosisRawPrelim,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  DiagnosisRawFinal</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>  CombID</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  DateInitialExamination</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">RecordNum =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(CombID),<span class="fu">row_number</span>(),<span class="cn">NA</span>)</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">EligibleAtPreop =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(EligibleAtPreop),<span class="st">"No"</span>,EligibleAtPreop),</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">TreatmentStatusNotes2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"acl|amput*|wrist|shoulder|knee|(non.*registry)|nfr|(pathology not)|(non.*ankle)|(not.*registry)"</span>) <span class="sc">~</span> <span class="st">"Non-Registry Pathology"</span>,</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"error|(not failed)|reop*|duplicate|incorrect|mention|superfluous|left|right|side|(complication only)|(not needed)"</span>) <span class="sc">~</span> <span class="st">"Accessory Record"</span>,</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>        stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"(sa.*patient)|(sa//ak)"</span>) <span class="sc">~</span> <span class="st">"Non-Registry Clinician"</span>,</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"(did not)|canx|dna|cx|attend|appointment|appt|cancel|resch|(never.*(arrived|came|return*))"</span>) <span class="sc">~</span> <span class="st">"No Initial Consult"</span>,</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"empty|(no.*(note|record))|information|insufficient|(cannot retrieve)|(enough.*info*)"</span>) <span class="sc">~</span> <span class="st">"No Patient File"</span>,</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"pre-registry|existing|prior"</span>) <span class="sc">~</span> <span class="st">"Pre-Registry Treatment"</span>,</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"intervention|elsewhere|(treated prior)|(no.*(treatment|pathology))|refer*|(no.*diagnosis)|(other.*surg*)|(surgeon.*other)|2nd|second|hesitant|(not.*viable)|(failed.*return)|public"</span>) <span class="sc">~</span> <span class="st">"No Treatment Offered"</span>,</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes), <span class="st">"withdraw*|(opt*.*out)|(unable.*recruit*)"</span>) <span class="sc">~</span> <span class="st">"Patient Opt-Out"</span>,</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">.default =</span> TreatmentStatusNotes</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a><span class="at">exclusion1 =</span> <span class="fu">case_when</span>( <span class="co">#exclusion before induction</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatus), <span class="st">"pending: ic"</span>) <span class="sc">~</span> <span class="st">"No Initial Consult"</span>,</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatus),<span class="st">"treatment"</span>) <span class="sc">&amp;</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatusNotes),<span class="st">"imaging"</span>) <span class="sc">~</span> <span class="st">"Pending Diagnosis"</span>,</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">str_to_lower</span>(TreatmentStatus),<span class="st">"archived"</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_to_title</span>(TreatmentStatusNotes2),</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">.default =</span> <span class="cn">NA_character_</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a><span class="at">exclusion2 =</span> <span class="fu">case_when</span>( <span class="co">#exclusion after induction</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(exclusion1) <span class="sc">&amp;</span> EligibleAtPreop <span class="sc">==</span> <span class="st">"Yes"</span> <span class="sc">&amp;</span> RecordNum <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(exclusion1) <span class="sc">&amp;</span> EligibleAtPreop <span class="sc">==</span> <span class="st">"Yes"</span> <span class="sc">&amp;</span> RecordNum <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"Subsequent Presentation"</span>,</span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(exclusion1) <span class="sc">&amp;</span> RecordNum <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> EligibleAtPreop <span class="sc">==</span> <span class="st">"No"</span> <span class="sc">~</span> <span class="st">"Not eligible for Baseline"</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a><span class="at">exclusion3 =</span> <span class="fu">case_when</span>(</span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">is.na</span>(exclusion1) <span class="sc">&amp;</span> <span class="fu">is.na</span>(exclusion2) <span class="sc">&amp;</span> <span class="fu">is.na</span>(DiagnosisRawFinal) <span class="sc">&amp;</span> <span class="fu">is.na</span>(DiagnosisRawPrelim) <span class="sc">~</span> <span class="st">"Missing Diagnosis"</span>,</span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">.default =</span> <span class="cn">NA_character_</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>)<span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">trialno =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>AnalysisList <span class="ot">=</span> STROBEFlow <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">is.na</span>(exclusion1),</span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">is.na</span>(exclusion2),</span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">is.na</span>(exclusion3)</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A masterfile was created with <em>tidyverse</em> syntax of all included records for further processing.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>MasterTable1 <span class="ot">&lt;-</span> Snapshot <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  EligibleAtPreop<span class="sc">:</span>VR12_Mental_TotalScore_Preop,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  Satisfaction_Preop<span class="sc">:</span>PCSSF_TotalScore_Preop,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  Sex2,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>Sex</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>( <span class="co"># Filter archived and pending: ic records</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  TreatmentID <span class="sc">%in%</span> AnalysisList<span class="sc">$</span>trialno</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">PreviousPath =</span> <span class="fu">case_when</span>(</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    PreviousPathology_Preop <span class="sc">==</span> <span class="st">"Both sides"</span> <span class="sc">~</span> <span class="st">"Bilateral"</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(PreviousPathology_Preop,<span class="st">"same side"</span>) <span class="sc">~</span> <span class="st">"Ipsilateral"</span>,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(PreviousPathology_Preop,<span class="st">"opposite side"</span>) <span class="sc">~</span> <span class="st">"Contralateral"</span>,</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">.default =</span> <span class="cn">NA_character_</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">PreviousSurgery =</span> <span class="fu">case_when</span>(</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    PreviousSurgery_Preop <span class="sc">==</span> <span class="st">"Both sides"</span> <span class="sc">~</span> <span class="st">"Bilateral"</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(PreviousSurgery_Preop,<span class="st">"same side"</span>) <span class="sc">~</span> <span class="st">"Ipsilateral"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(PreviousSurgery_Preop,<span class="st">"opposite side"</span>) <span class="sc">~</span> <span class="st">"Contralateral"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">.default =</span> <span class="cn">NA_character_</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span><span class="fu">c</span>(</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>    PreviousPathology_Preop,</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    PreviousSurgery_Preop</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<p>A total of 12494 records were selected, with dates of initial examination ranging from 2019-07-19 to 2025-05-09.</p>
</div>
</section>
<section id="record-6.2-algorithm-validation" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="record-6.2-algorithm-validation"><span class="header-section-number">3.4.2</span> Record [6.2] Algorithm validation</h3>
<!--# RECORD 6.2: Any validation studies of the codes or algorithms used to select the population should be referenced. If validation was conducted for this study and not published elsewhere, detailed methods and results should be provided. -->
</section>
<section id="record-6.3-data-linkage" class="level3" data-number="3.4.3">
<h3 data-number="3.4.3" class="anchored" data-anchor-id="record-6.3-data-linkage"><span class="header-section-number">3.4.3</span> Record [6.3] Data linkage</h3>
<!--# RECORD 6.3: If the study involved linkage of databases, consider use of a flow diagram or other graphical display to demonstrate the data linkage process, including the number of individuals with linked data at each stage. -->
<p>No data linkage was performed for this analysis.</p>
</section>
</section>
<section id="record-7-variables" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="record-7-variables"><span class="header-section-number">3.5</span> RECORD [7] Variables</h2>
<!--# Clearly define all outcomes, exposures, predictors, potential confounders, and effect modifiers. Give diagnostic criteria, if applicable -->
<p>Key variables defined as part of this analysis are summarised below and retrieved from the core dataset of the SOFARI registry.</p>
<div id="tbl-variables" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-variables-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Summary of key variable definitions in the analysis
</figcaption>
<div aria-describedby="tbl-variables-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 27%">
<col style="width: 50%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th>Category</th>
<th>Variable</th>
<th>Definition - Comments</th>
<th>Citation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td>Pain catastrophising scale - Short form</td>
<td><p>7-question short version of the PCS</p>
<p>Total score from sum of individual items</p></td>
<td><span class="citation" data-cites="cheng2019">(<a href="#ref-cheng2019" role="doc-biblioref"><strong>cheng2019?</strong></a>)</span></td>
</tr>
<tr class="even">
<td></td>
<td>VR12- MCS</td>
<td><p>12-question general health questionnaire.</p>
<p>Produces mental and physical sub-scores</p></td>
<td><span class="citation" data-cites="Selim2009">(<a href="#ref-Selim2009" role="doc-biblioref"><strong>Selim2009?</strong></a>)</span></td>
</tr>
<tr class="odd">
<td></td>
<td>FAOS</td>
<td>42-question with 5 subscales (Pain, ADL, Sport, Symptoms, Quality of Life)</td>
<td><span class="citation" data-cites="roos2001">(<a href="#ref-roos2001" role="doc-biblioref">Roos, Brandsson, and Karlsson 2001</a>)</span></td>
</tr>
<tr class="even">
<td>Exposures</td>
<td>Cohort (Region)</td>
<td>categorisation of pathology based on anatomical region</td>
<td></td>
</tr>
<tr class="odd">
<td>Confounders</td>
<td>Age</td>
<td>age at the date of initial examination</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>Sex</td>
<td>self-reported by the patient (male, female)</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>Comorbidity score</td>
<td>Self-assessed comorbidity score (SACQ) sum of 12 items rated 0 - 3</td>
<td><span class="citation" data-cites="Sangha2003">(<a href="#ref-Sangha2003" role="doc-biblioref"><strong>Sangha2003?</strong></a>)</span></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>The self-assessed comorbidity score had to added to the dataset by calculating from individual responses included in the registry snapshot. The scores were then added to the analysis master table.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply to your data</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>SRCQScore <span class="ot">&lt;-</span> MasterTable1 <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"comorb"</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"Comorb"</span>), </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>           <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>             <span class="fu">is.na</span>(.) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>             . <span class="sc">==</span> <span class="st">"I do not have the problem"</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>             . <span class="sc">==</span> <span class="st">"I have the problem"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>             . <span class="sc">==</span> <span class="st">"I am receiving treatment for it"</span> <span class="sc">|</span> </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>               . <span class="sc">==</span> <span class="st">"I have the problem, I am receiving treatment for it"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>             . <span class="sc">==</span> <span class="st">"The problem limits my activities"</span> <span class="sc">|</span> </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>               . <span class="sc">==</span> <span class="st">"I have the problem, I am receiving treatment for it, The problem limits my activities"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>             <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_real_</span>  <span class="co"># Add default case</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">SRCQTotalScore =</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric)))</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>MasterTable2 <span class="ot">&lt;-</span> MasterTable1 <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  SRCQScore <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    SRCQTotalScore</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span>(<span class="fu">starts_with</span>(<span class="st">"Comorb"</span>))</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Extract individual PCS scores</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>PCSTable  <span class="ot">&lt;-</span> MasterTable1 <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"PCSSF"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"PCSSF"</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>           <span class="sc">~</span><span class="fu">as.numeric</span>(stringr<span class="sc">::</span><span class="fu">str_extract</span>(.,<span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>))</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>According to <span class="citation" data-cites="cheng2019">(<a href="#ref-cheng2019" role="doc-biblioref"><strong>cheng2019?</strong></a>)</span> the PCS-SF (and perhaps the full scale as well) would be best scored by simply adding all the items up. The present analysis may provide a platform for future examination of subscales of PCS such as <em>Rumination</em>, <em>Magnification</em> and <em>Helplessness</em> with respect to baseline pain.</p>
<p>The PCS-SF total score was added to the master table.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>MasterTable3 <span class="ot">&lt;-</span> MasterTable2 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span>(<span class="fu">starts_with</span>(<span class="st">"PCSSF"</span>))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  PCSTable <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    PCSSF_TotalScore_Preop</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  PatientID,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  TreatmentType,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  Sex2,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  Provider,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  AgeAtInitialExam,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  InjuryToPresentation,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  VR12_Physical_TotalScore_Preop,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  VR12_Mental_TotalScore_Preop,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  SRCQTotalScore,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  PCSSF_TotalScore_Preop,</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  Satisfaction_Preop,</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  PreviousPath,</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  PreviousSurgery</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Extract individual PCS scores</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>FAOSTable  <span class="ot">&lt;-</span> Snapshot <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  TreatmentID <span class="sc">%in%</span> MasterTable1<span class="sc">$</span>TreatmentID</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">"FAOS"</span>) <span class="sc">&amp;</span> <span class="fu">contains</span>(<span class="st">"TotalScore"</span>) <span class="sc">&amp;</span> <span class="fu">contains</span>(<span class="st">"Preop"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"FAOS"</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>           <span class="sc">~</span><span class="fu">as.numeric</span>(stringr<span class="sc">::</span><span class="fu">str_extract</span>(.,<span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>))</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>According to <span class="citation" data-cites="cheng2019">(<a href="#ref-cheng2019" role="doc-biblioref"><strong>cheng2019?</strong></a>)</span> the PCS-SF (and perhaps the full scale as well) would be best scored by simply adding all the items up. The present analysis may provide a platform for future examination of subscales of PCS such as <em>Rumination</em>, <em>Magnification</em> and <em>Helplessness</em> with respect to baseline pain.</p>
<p>The FAOS subscale total scores were added to the master table.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>MasterTable3 <span class="ot">&lt;-</span> MasterTable2 <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  FAOSTable,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  PatientID,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  TreatmentType,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  Sex2,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  Provider,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  AgeAtInitialExam,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  InjuryToPresentation,</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  VR12_Physical_TotalScore_Preop,</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  VR12_Mental_TotalScore_Preop,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  SRCQTotalScore,</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  PCSSF_TotalScore_Preop,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  Satisfaction_Preop,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  PreviousPath,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  PreviousSurgery,</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">starts_with</span>(<span class="st">"FAOS"</span>)</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="diagnosis-1" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="diagnosis-1"><span class="header-section-number">3.5.1</span> Diagnosis</h3>
<p>Raw text stored in the registry snapshot was processed with custom functions (see <em>Functions for Processing</em>). Additional processing was performed to create a <em>Region</em> label, describing the anatomical region in which the pathology affected.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by sequence</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>DiagSequence <span class="ot">&lt;-</span> DiagTerm <span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">unite</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SequenceID1"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(TreatmentID,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    SequenceID</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span>, </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">remove =</span> <span class="cn">FALSE</span>, </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">"."</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    SequenceID1</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> <span class="fu">summarize</span>(</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Term2 =</span> <span class="fu">str_c</span>(Term1, <span class="at">collapse =</span> <span class="st">" "</span>)</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">TreatmentID =</span> stringr<span class="sc">::</span><span class="fu">str_remove</span>(SequenceID1, <span class="st">"</span><span class="sc">\\</span><span class="st">.[^.]*$"</span>)</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by Treatment</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>DiagTreatment <span class="ot">&lt;-</span> DiagSequence <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  TreatmentID</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">Term3 =</span> <span class="fu">str_c</span>(</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    Term2,</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">collapse =</span> <span class="st">"; "</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>DiagFunc2 <span class="ot">&lt;-</span> DiagFunc1 <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">RowCount1 =</span> <span class="fu">n</span>(),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> TreatmentID</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>(Ankle<span class="sc">:</span>NegatePathology)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">SequenceCat1 =</span> <span class="fu">if_else</span>(</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>      has_region <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> has_pathology <span class="sc">&gt;=</span> <span class="dv">1</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Classified"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"No"</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(TreatmentID) <span class="sc">|&gt;</span> </span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(SequenceRow), <span class="at">.by_group =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Product =</span> has_region <span class="sc">*</span> has_pathology,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">SequenceCatLead =</span> <span class="fu">lead</span>(SequenceCat1),</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">ResetFlag =</span> <span class="fu">case_when</span>( </span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">lag</span>(Product) <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> Product <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">lag</span>(Product) <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> Product <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>      Product <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> <span class="fu">lag</span>(Product) <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>      SequenceRow <span class="sc">==</span> <span class="fu">max</span>(SequenceRow) <span class="sc">&amp;</span> Product <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>      SequenceRow <span class="sc">==</span> <span class="fu">max</span>(SequenceRow) <span class="sc">&amp;</span> Product <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>DiagFunc2a <span class="ot">&lt;-</span> DiagFunc2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  Product <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  ResetFlag <span class="sc">==</span> <span class="dv">0</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>DiagFunc2b <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  DiagFunc2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    ResetFlag <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">.keep_all =</span> <span class="cn">TRUE</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>DiagFunc2c <span class="ot">&lt;-</span> DiagFunc2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  ResetFlag <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  TreatmentID</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">summarise</span>( <span class="co"># COLLAPSE rows into 1. JOIN back into FuncX (bindrows)</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>   <span class="at">Term3 =</span> <span class="fu">str_c</span>(</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>     Term2,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>     <span class="at">collapse =</span> <span class="st">"; "</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a> ),</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>Term2</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">Term2 =</span> <span class="st">"Term3"</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>DiagFunc3 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>  DiagFunc2a,</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>  DiagFunc2b</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>  TreatmentID</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>(has_region<span class="sc">:</span>ResetFlag)</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>DiagRegion <span class="ot">&lt;-</span> DiagFunc4 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  Term2,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  SequenceIDUpdate,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  TreatmentID<span class="sc">:</span>Foot</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span> <span class="fu">select</span>(</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>SequenceRow</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> <span class="sc">!</span><span class="fu">c</span>(TreatmentID,SequenceIDUpdate,Term2),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"Region"</span>,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"RegionPresence"</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  RegionPresence <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.na</span>(Region)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">RegionCount =</span> <span class="fu">n_distinct</span>(Region),</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">RegionCat =</span> <span class="fu">if_else</span>(RegionCount <span class="sc">&gt;</span> <span class="dv">1</span>,<span class="st">"Multiple"</span>,<span class="st">"Isolated"</span>),</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">.by =</span> TreatmentID</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>RegionPresence</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>DiagPathology <span class="ot">&lt;-</span> DiagFunc4 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  Term2,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  SequenceIDUpdate,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  Arthritis<span class="sc">:</span>Other</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> <span class="sc">!</span><span class="fu">c</span>(TreatmentID,SequenceIDUpdate,Term2),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">"Pathology"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">"PathPresence"</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  PathPresence <span class="sc">&gt;</span> <span class="dv">0</span>,</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.na</span>(Pathology)</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">PathCount =</span> <span class="fu">n_distinct</span>(Pathology),</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">PathCat =</span> <span class="fu">if_else</span>(PathCount <span class="sc">&gt;</span> <span class="dv">1</span>,<span class="st">"Multiple"</span>,<span class="st">"Isolated"</span>),</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">.by =</span> TreatmentID</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>DiagRegion1 <span class="ot">&lt;-</span> DiagRegion <span class="sc">|&gt;</span> <span class="fu">distinct</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">.keep_all =</span> <span class="cn">TRUE</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>DiagPath1 <span class="ot">&lt;-</span> DiagPathology <span class="sc">|&gt;</span> <span class="fu">distinct</span>(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">.keep_all =</span> <span class="cn">TRUE</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="cohort" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="cohort"><span class="header-section-number">3.5.2</span> Cohort</h3>
<p>A cohort label (combining pathology and region) was created from the processed diagnosis text.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice Down Snapshot based on diagnosis availability</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>MasterTable4 <span class="ot">&lt;-</span> MasterTable3 <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  DiagFunc4 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    Term2</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">|&gt;</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Term3 =</span> <span class="fu">str_c</span>(Term2, <span class="at">collapse =</span> <span class="st">" "</span>),</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> TreatmentID</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>)  <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  DiagRegion1 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    RegionCat</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  DiagPath1 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    PathCat</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">unite</span>(</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Cohort"</span>,</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(RegionCat,PathCat),</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">"_"</span>,</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">FALSE</span>,</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">remove =</span> <span class="cn">FALSE</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>  DiagRegion1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>    RegionCat <span class="sc">==</span> <span class="st">"Isolated"</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>    Region</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>  DiagPath1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>    PathCat <span class="sc">==</span> <span class="st">"Isolated"</span></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>    Pathology</span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cohort1 =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(RegionCat) <span class="sc">&amp;</span> <span class="fu">is.na</span>(PathCat) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>    RegionCat <span class="sc">==</span> <span class="st">"Multiple"</span> <span class="sc">&amp;</span> PathCat <span class="sc">==</span> <span class="st">"Multiple"</span> <span class="sc">~</span> <span class="st">"Multiple"</span>,</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(Region) <span class="sc">&amp;</span> <span class="fu">is.na</span>(Pathology) <span class="sc">~</span> Region,</span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(Region) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Pathology) <span class="sc">~</span> Pathology,</span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(Region) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Pathology) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(Region,Pathology, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cohort2 =</span> <span class="fu">ifelse</span>(<span class="fu">n</span>() <span class="sc">&lt;</span> <span class="dv">30</span>, <span class="st">"General"</span>, Cohort1),</span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">.by =</span> Cohort1,</span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a>  <span class="at">Region2 =</span> <span class="fu">if_else</span>(</span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(Region) <span class="sc">&amp;</span> RegionCat <span class="sc">==</span> <span class="st">"Multiple"</span>, <span class="st">"Multiple"</span>, Region</span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">c</span>(</span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a>    Region,</span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a>    RegionCat</span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">Region =</span> <span class="st">"Region2"</span></span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Establishing the breakdown of the sample by cohorts revealed that multiple pathologies across multiple regions of the foot-ankle was the most common presentation, followed by ankle_injury and multiple pathologies affecting the ankle (Figure 1).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>min_count <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic counts</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  basic_counts1 <span class="ot">&lt;-</span> MasterTable4 <span class="sc">|&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Cohort2, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">percentage =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">cumulative_percentage =</span> <span class="fu">cumsum</span>(percentage)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a> <span class="co"># Create visualization</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>  plot_data <span class="ot">&lt;-</span> basic_counts1 <span class="sc">|&gt;</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>      n <span class="sc">&gt;=</span> min_count,</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(Cohort2)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>      )  <span class="co"># Filter for readability</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  cohort_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Cohort2, <span class="sc">-</span>n), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"%.1f%%"</span>, percentage)), </span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Clinical Cohorts"</span>,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Cohort"</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">knit_print</span>(cohort_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-cohort" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cohort-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-cohort-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cohort-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Breakdown of sample by defined cohorts - combined pathology and region labels.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="bilateral-status" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="bilateral-status"><span class="header-section-number">3.5.3</span> Bilateral Status</h3>
<p>The bilateral status of each record in the registry snapshot was calculated by grouping by PatientID, establishing those records with &gt;1 record in the table, then calculating whether the bilateral record was;</p>
<ul>
<li><p>Simultaneous - where both records are presented and created at the same time</p></li>
<li><p>Index - the first limb to present for that patient within the registry</p></li>
<li><p>Subsequent - the second (contralateral) limb to present for that patient within the registry that is separated from the first record by time.</p></li>
<li><p>Unilateral - the record appears in the dataset with no record present for the contralateral limb</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>SnapshotBilat1 <span class="ot">&lt;-</span> MasterTable4 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  PatientID</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">TreatmentCount =</span> <span class="fu">n</span>()</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  TreatmentCount <span class="sc">&gt;</span> <span class="dv">1</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>SnapshotBilat2 <span class="ot">&lt;-</span> Snapshot <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  PatientID <span class="sc">%in%</span> SnapshotBilat1<span class="sc">$</span>PatientID</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>SnapshotLeft1 <span class="ot">&lt;-</span> SnapshotBilat2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  AffectedSide <span class="sc">==</span> <span class="st">"Left"</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  PatientID</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  DateInitialExamination,</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">.by_group =</span> <span class="cn">TRUE</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>  CombID,</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  PatientID,</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  AffectedSide,</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  DateInitialExamination,</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  DateInitialExaminationNum,</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  TreatmentStatus,</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  TreatmentStatusNotes,</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>  DateStatusChange</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">slice_head</span>(</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">1</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>SnapshotRight <span class="ot">&lt;-</span> SnapshotBilat2 <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  AffectedSide <span class="sc">==</span> <span class="st">"Right"</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">DIERight =</span> <span class="st">"DateInitialExamination"</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">group_by</span>(</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>  PatientID</span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(</span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>  DIERight,</span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">.by_group =</span> <span class="cn">TRUE</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>  TreatmentID,</span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>  CombID,</span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>  PatientID,</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>  AffectedSide,</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>  DIERight,</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>  TreatmentStatus,</span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>  TreatmentStatusNotes,</span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>  DateStatusChange</span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">slice_head</span>(</span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="dv">1</span></span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>  SnapshotLeft1 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>    PatientID,</span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>    DateInitialExamination</span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"PatientID"</span></span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">DIELeft =</span> <span class="st">"DateInitialExamination"</span></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a>   <span class="at">DIEDiff =</span> <span class="fu">as.numeric</span>(<span class="fu">as.duration</span>(DIERight <span class="sc">%--%</span> DIELeft),<span class="st">"weeks"</span>)</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">BilateralPres =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a>      DIEDiff <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Simultaneous"</span>,</span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a>      DIEDiff <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Index"</span>,</span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>      DIEDiff <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Subsequent"</span>,</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="st">"Unilateral"</span></span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a>SnapshotLeft2 <span class="ot">&lt;-</span> SnapshotLeft1 <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a>  <span class="at">DIELeft =</span> <span class="st">"DateInitialExamination"</span></span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a>  SnapshotRight <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a>    PatientID,</span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a>    DIERight</span>
<span id="cb30-79"><a href="#cb30-79" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb30-80"><a href="#cb30-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"PatientID"</span></span>
<span id="cb30-81"><a href="#cb30-81" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb30-82"><a href="#cb30-82" aria-hidden="true" tabindex="-1"></a>   <span class="at">DIEDiff =</span> <span class="fu">as.numeric</span>(<span class="fu">as.duration</span>(DIELeft <span class="sc">%--%</span> DIERight),<span class="st">"weeks"</span>)</span>
<span id="cb30-83"><a href="#cb30-83" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb30-84"><a href="#cb30-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">BilateralPres =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-85"><a href="#cb30-85" aria-hidden="true" tabindex="-1"></a>      DIEDiff <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Simultaneous"</span>,</span>
<span id="cb30-86"><a href="#cb30-86" aria-hidden="true" tabindex="-1"></a>      DIEDiff <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Index"</span>,</span>
<span id="cb30-87"><a href="#cb30-87" aria-hidden="true" tabindex="-1"></a>      DIEDiff <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"Subsequent"</span>,</span>
<span id="cb30-88"><a href="#cb30-88" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="st">"Unilateral"</span></span>
<span id="cb30-89"><a href="#cb30-89" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-90"><a href="#cb30-90" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">filter</span>(</span>
<span id="cb30-91"><a href="#cb30-91" aria-hidden="true" tabindex="-1"></a>    BilateralPres <span class="sc">!=</span> <span class="st">"Unilateral"</span></span>
<span id="cb30-92"><a href="#cb30-92" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Marry back into the master table.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>MasterTable5 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  MasterTable4,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  SnapshotLeft2 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    BilateralPres</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">BilateralPresLeft =</span> <span class="st">"BilateralPres"</span>),</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">left_join</span>(</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  SnapshotRight <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    TreatmentID,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    BilateralPres</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">BilateralPresRight =</span> <span class="st">"BilateralPres"</span>),</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="st">"TreatmentID"</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> tidyr<span class="sc">::</span><span class="fu">unite</span>(</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"BilateralPres"</span>,</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(BilateralPresLeft,BilateralPresRight),</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span>,</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">remove =</span> <span class="cn">TRUE</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">BilateralPres1 =</span> <span class="fu">if_else</span>(</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_count</span>(BilateralPres) <span class="sc">&lt;</span> <span class="dv">1</span>,</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Unilateral"</span>,</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    BilateralPres</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>BilateralPres</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">rename</span>(</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">BilateralPres =</span> <span class="st">"BilateralPres1"</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">BilateralDiag =</span> stringr<span class="sc">::</span><span class="fu">str_detect</span>(</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>    Term3,</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bilateral"</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="record-7.1-codes-and-algorithms" class="level3" data-number="3.5.4">
<h3 data-number="3.5.4" class="anchored" data-anchor-id="record-7.1-codes-and-algorithms"><span class="header-section-number">3.5.4</span> RECORD [7.1] Codes and Algorithms</h3>
<!--# RECORD 7.1: A complete list of codes and algorithms used to classify exposures, outcomes, confounders, and effect modifiers should be provided. If these cannot be reported, an explanation should be provided -->
</section>
</section>
<section id="record-9-bias" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="record-9-bias"><span class="header-section-number">3.6</span> RECORD [9] Bias</h2>
<!--# Describe any efforts to address potential sources of bias -->
<p>For a discussion of biases in the context of the clinical registry utilised for this analysis, refer to <span class="citation" data-cites="scholes2023">(<a href="#ref-scholes2023" role="doc-biblioref"><strong>scholes2023?</strong></a>)</span>. Specific to this analysis, the following considerations are noted below.</p>
<div id="tbl-bias" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-bias-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: Biases in an analysis of an observational cohort retrieved from a clinical registry
</figcaption>
<div aria-describedby="tbl-bias-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 31%">
<col style="width: 7%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th>Bias</th>
<th>Definition</th>
<th>Source</th>
<th>Mitigation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Selection</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Misclassification</td>
<td>Treatment record labelled into incorrect cohort. PROMs package not aligned to</td>
<td><span class="citation" data-cites="Benchimol2015">(<a href="#ref-Benchimol2015" role="doc-biblioref"><strong>Benchimol2015?</strong></a>)</span></td>
<td><p>Clinical text retrieved by two experienced reviewers and transferred to registry.</p>
<p>Code functions used to process text in a repeatable workflow.</p></td>
</tr>
<tr class="odd">
<td>Immortal Time</td>
<td>Individuals meet eligibility criteria that can only assessed after followup has started</td>
<td><span class="citation" data-cites="nguyen2021">(<a href="#ref-nguyen2021" role="doc-biblioref"><strong>nguyen2021?</strong></a>)</span></td>
<td>Patients are enrolled at first presentation to the registry for their condition - but this does not necessarily represent first presentation to the clinic.</td>
</tr>
<tr class="even">
<td>Missing Data</td>
<td>The absence of a data value where a treatment record is eligible to have a data value collected</td>
<td><span class="citation" data-cites="carroll2020">(<a href="#ref-carroll2020" role="doc-biblioref"><strong>carroll2020?</strong></a>)</span></td>
<td>Multiple imputation was used to impute missing values and model-based predictions of outcomes used</td>
</tr>
<tr class="odd">
<td>Prevalent User</td>
<td>Follow-up starts after eligible individuals have started the treatment. The follow-up time is left-truncated</td>
<td><span class="citation" data-cites="nguyen2021">(<a href="#ref-nguyen2021" role="doc-biblioref"><strong>nguyen2021?</strong></a>)</span></td>
<td>Eligibility and enrollment is performed prior to treatment offering for any patient or new presentation. Records where definitive treatment occurred before registry enrolment were excluded.</td>
</tr>
<tr class="even">
<td>Pseudoreplication</td>
<td>Analyse data while ignoring dependency between observations. Inadequate model specification.</td>
<td><span class="citation" data-cites="davies2015 lazic2010">(<a href="#ref-davies2015" role="doc-biblioref"><strong>davies2015?</strong></a>; <a href="#ref-lazic2010" role="doc-biblioref"><strong>lazic2010?</strong></a>)</span></td>
<td>Because not all patients had multiple treatments, mixed effects models were poorly specified. A generalised linear model was utilised instead.</td>
</tr>
<tr class="odd">
<td>Confounder</td>
<td>An variable of interest and a target outcome simultaneously influenced by a third variable</td>
<td><span class="citation" data-cites="tennant2020">(<a href="#ref-tennant2020" role="doc-biblioref"><strong>tennant2020?</strong></a>)</span></td>
<td>PCS-SF models incorporated adjustment for confounders</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="record-10-study-size" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="record-10-study-size"><span class="header-section-number">3.7</span> RECORD [10] Study size</h2>
<!--# Explain how the study size was arrived at -->
<p>Sample size was derived based on the available records from the Registry at the time of analysis.</p>
</section>
<section id="record-11-quantitative-variables" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="record-11-quantitative-variables"><span class="header-section-number">3.8</span> RECORD [11] Quantitative variables</h2>
<!--# Explain how quantitative variables were handled in the analyses. If applicable, describe which groupings were chosen and why -->
<p>No categorisation of quantitative variables was undertaken in this analysis.</p>
</section>
<section id="record-12-statistical-methods" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="record-12-statistical-methods"><span class="header-section-number">3.9</span> RECORD [12] Statistical methods</h2>
<!--# (a) Describe all statistical methods, including those used to control for confounding (b) Describe any methods used to examine subgroups and interactions (c) Explain how missing data were addressed (d) Cohort study—If applicable, explain how loss to follow-up was addressed Case-control study—If applicable, explain how matching of cases and controls was addressed Cross-sectional study—If applicable, describe analytical methods taking account of sampling strategy (e) Describe any sensitivity analyses -->
<section id="record-12.1-data-access" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="record-12.1-data-access"><span class="header-section-number">3.9.1</span> RECORD [12.1] Data access</h3>
<!--# RECORD 12.1: Authors should describe the extent to which the investigators had access to the database population used to create the study population. -->
<p>The registry system represents all cases presenting to the rooms of collaborating specialists within Sydney, Australia from the inception of the clinical registry to the analysis date. All reviewed charts from the operating surgeons practice records (electronic medical record) were entered into database and the present analysis draws data from a regular compilation of the registry records (snapshot) produced quarterly by the registry administration team.</p>
</section>
<section id="record-12.2-data-cleaning" class="level3" data-number="3.9.2">
<h3 data-number="3.9.2" class="anchored" data-anchor-id="record-12.2-data-cleaning"><span class="header-section-number">3.9.2</span> RECORD [12.2] Data Cleaning</h3>
<!--# RECORD 12.2: Authors should provide information on the data cleaning methods used in the study. -->
<p>Text data was cleaned using custom functions as described in <em>Functions for processing</em>.</p>
<section id="missingness" class="level4" data-number="3.9.2.1">
<h4 data-number="3.9.2.1" class="anchored" data-anchor-id="missingness"><span class="header-section-number">3.9.2.1</span> Missingness</h4>
<p>In the record selection workflow, patients with text in the diagnosis text field were included in the final analysis number. However, there was a proportion of patients that had text that could not be categorised into an anatomical region. For the purposes of this draft analysis, these cases will be removed and a round of chart review will be performed to resolve the discrepancy between the text and the classification code.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>MasterAnalysis <span class="ot">&lt;-</span> MasterTable5 <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  TreatmentID<span class="sc">:</span>Satisfaction_Preop,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  Region,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  BilateralPres,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">starts_with</span>(<span class="st">"FAOS"</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">is.na</span>(Region)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Missingness was visualised with the <em>naniar</em> package (v1.1.0) <span class="citation" data-cites="naniar">(<a href="#ref-naniar" role="doc-biblioref"><strong>naniar?</strong></a>)</span>. It showed that patients with a diagnosis also had other missing data, predominantly PROMs data.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">vis_miss</span>(MasterAnalysis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-missingness" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-missingness-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-missingness-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-missingness-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Patterns of missingness across analysis variables
</figcaption>
</figure>
</div>
</div>
</div>
<p>The <em>mice</em> (v3.18.0) <span class="citation" data-cites="mice">(<a href="#ref-mice" role="doc-biblioref"><strong>mice?</strong></a>)</span> was used to impute the dataset. A predictor matrix was created to remove record identifiers and passive variables (e.g.&nbsp;PCS categorisation) from the imputation. Imputation was performed over 20 replications and stored in a variable for further processing.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First create your predictor matrix as before</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>predM <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">make.predictorMatrix</span>(MasterAnalysis)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Switch off IDs from predicting</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>predM[,<span class="st">"TreatmentID"</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>predM[<span class="st">"TreatmentID"</span>,] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>predM[,<span class="st">"PatientID"</span>] <span class="ot">&lt;-</span> <span class="dv">0</span> </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>predM[<span class="st">"PatientID"</span>,] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a method vector</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>meth <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">make.method</span>(MasterAnalysis)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Modified mice command including method specification</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>MasterImp <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">mice</span>(</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  MasterAnalysis,</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">maxit =</span> <span class="dv">10</span>,</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">seed =</span> <span class="dv">4218</span>,</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">m =</span> <span class="dv">20</span>,</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">printFlag =</span> <span class="cn">FALSE</span>,</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">predictorMatrix =</span> predM,</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> meth</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A strip plot (Figure 3) were used to visually inspect the convergence of the imputation iterations against the original dataset.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>MasterImpStrip <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">densityplot</span>(MasterImp)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(MasterImpStrip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-stripplot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-stripplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-stripplot-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-stripplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Strip plot of imputed data over 5 iterations with 20 imputations per iteration.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The estimated FAOS-Pain subscore from the imputation model versus the distribution of the observed data was plotted as a visual inspection of the imputation result.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>FAOSPainImp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">data =</span> <span class="fu">complete</span>(MasterImp, <span class="dv">1</span>), <span class="fu">aes</span>(<span class="at">x =</span> FAOS_Pain_TotalScore_Preop, <span class="at">color =</span> <span class="st">"Observed"</span>)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">data =</span> <span class="fu">complete</span>(MasterImp, <span class="dv">2</span><span class="sc">:</span><span class="dv">10</span>), <span class="fu">aes</span>(<span class="at">x =</span> FAOS_Pain_TotalScore_Preop, <span class="at">color =</span> <span class="st">"Imputed"</span>))</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSPainImp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-visualise" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-visualise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-visualise-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-visualise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Estimated versus observed FAOS-Pain for the analysis cohort.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="record-12.3-linkage" class="level3" data-number="3.9.3">
<h3 data-number="3.9.3" class="anchored" data-anchor-id="record-12.3-linkage"><span class="header-section-number">3.9.3</span> RECORD [12.3] Linkage</h3>
<!--# RECORD 12.3: State whether the study included person-level, institutional-level, or other data linkage across two or more databases. The methods of linkage and methods of linkage quality evaluation should be provided. -->
<p>No data linkage was performed for this analysis.</p>
</section>
<section id="analysis-methods" class="level3" data-number="3.9.4">
<h3 data-number="3.9.4" class="anchored" data-anchor-id="analysis-methods"><span class="header-section-number">3.9.4</span> Analysis Methods</h3>
<p>Participant flow - consort package and flow chart Descriptive - gtsummary and prepared for display with knitr Outcome data - ggplot2 complete case analysis</p>
<p>A flow chart was created with the <em>consort</em> package (v1.2.2) <span class="citation" data-cites="consort">(<a href="#ref-consort" role="doc-biblioref"><strong>consort?</strong></a>)</span> to describe the inclusion and exclusion of records into the sample pool for the present analysis to be drawn from. Patient demographics and pathology characteristics were summarised using <em>gtsummary</em> (v2.3.0) <span class="citation" data-cites="gtsummary">(<a href="#ref-gtsummary" role="doc-biblioref"><strong>gtsummary?</strong></a>)</span>. Graphs were generated using <em>ggplot2</em> (v3.5.2) <span class="citation" data-cites="ggplot2">(<a href="#ref-ggplot2" role="doc-biblioref"><strong>ggplot2?</strong></a>)</span>. Graphs and tables were prepared for display using <em>knitr</em> (v1.50) <span class="citation" data-cites="knitr">(<a href="#ref-knitr" role="doc-biblioref"><strong>knitr?</strong></a>)</span>. A linear model was fitted to the imputed data using <em>stats</em> (v4.4.2) <span class="citation" data-cites="stats">(<a href="#ref-stats" role="doc-biblioref"><strong>stats?</strong></a>)</span> with the following form.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Pain</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>FAOSPainMod1 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    FAOS_Pain_TotalScore_Preop <span class="sc">~</span> Region</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>FAOSPainMod2 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    FAOS_Pain_TotalScore_Preop <span class="sc">~</span> Region <span class="sc">+</span> AgeAtInitialExam <span class="sc">+</span> Sex2 <span class="sc">+</span> BilateralPres <span class="sc">+</span> SRCQTotalScore <span class="sc">+</span> VR12_Mental_TotalScore_Preop <span class="sc">+</span> PCSSF_TotalScore_Preop</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Symptoms</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>FAOSSympMod1 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>    FAOS_Symptom_TotalScore_Preop <span class="sc">~</span> Region</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>FAOSSympMod2 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>    FAOS_Symptom_TotalScore_Preop <span class="sc">~</span> Region <span class="sc">+</span> AgeAtInitialExam <span class="sc">+</span> Sex2 <span class="sc">+</span> BilateralPres <span class="sc">+</span> SRCQTotalScore <span class="sc">+</span> VR12_Mental_TotalScore_Preop</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="co">#ADL</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>FAOSADLMod1 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>    FAOS_DailyLiving_TotalScore_Preop <span class="sc">~</span> Region</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>FAOSADLMod2 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>    FAOS_DailyLiving_TotalScore_Preop <span class="sc">~</span> Region <span class="sc">+</span> AgeAtInitialExam <span class="sc">+</span> Sex2 <span class="sc">+</span> BilateralPres <span class="sc">+</span> SRCQTotalScore <span class="sc">+</span> VR12_Physical_TotalScore_Preop <span class="sc">+</span> VR12_Mental_TotalScore_Preop</span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a><span class="co">#Sport</span></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a>FAOSSportMod1 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a>    FAOS_Sport_TotalScore_Preop <span class="sc">~</span> Region</span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a>FAOSSportMod2 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-61"><a href="#cb37-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-62"><a href="#cb37-62" aria-hidden="true" tabindex="-1"></a>    FAOS_Sport_TotalScore_Preop <span class="sc">~</span> Region <span class="sc">+</span> AgeAtInitialExam <span class="sc">+</span> Sex2 <span class="sc">+</span> BilateralPres <span class="sc">+</span> SRCQTotalScore <span class="sc">+</span> VR12_Physical_TotalScore_Preop <span class="sc">+</span> VR12_Mental_TotalScore_Preop</span>
<span id="cb37-63"><a href="#cb37-63" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-64"><a href="#cb37-64" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-65"><a href="#cb37-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-66"><a href="#cb37-66" aria-hidden="true" tabindex="-1"></a><span class="co">#QoL</span></span>
<span id="cb37-67"><a href="#cb37-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-68"><a href="#cb37-68" aria-hidden="true" tabindex="-1"></a>FAOSQOLMod1 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-69"><a href="#cb37-69" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-70"><a href="#cb37-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-71"><a href="#cb37-71" aria-hidden="true" tabindex="-1"></a>    FAOS_Quality_TotalScore_Preop <span class="sc">~</span> Region</span>
<span id="cb37-72"><a href="#cb37-72" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-73"><a href="#cb37-73" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-74"><a href="#cb37-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-75"><a href="#cb37-75" aria-hidden="true" tabindex="-1"></a>FAOSQOLMod2 <span class="ot">&lt;-</span> <span class="fu">with</span>(</span>
<span id="cb37-76"><a href="#cb37-76" aria-hidden="true" tabindex="-1"></a>  MasterImp, </span>
<span id="cb37-77"><a href="#cb37-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">exp =</span> <span class="fu">lm</span>(</span>
<span id="cb37-78"><a href="#cb37-78" aria-hidden="true" tabindex="-1"></a>    FAOS_Quality_TotalScore_Preop <span class="sc">~</span> Region <span class="sc">+</span> AgeAtInitialExam <span class="sc">+</span> Sex2 <span class="sc">+</span> BilateralPres <span class="sc">+</span> SRCQTotalScore <span class="sc">+</span> VR12_Physical_TotalScore_Preop <span class="sc">+</span> VR12_Mental_TotalScore_Preop</span>
<span id="cb37-79"><a href="#cb37-79" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-80"><a href="#cb37-80" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The model was summarised using <em>gtsummary</em>. Predicted values for all model variables were generated from the model object using <em>marginaleffects</em> (v0.28.0) <span class="citation" data-cites="marginaleffects">(<a href="#ref-marginaleffects" role="doc-biblioref"><strong>marginaleffects?</strong></a>)</span>.</p>
</section>
</section>
</section>
<section id="results" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Results</h1>
<section id="record-13-participants" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="record-13-participants"><span class="header-section-number">4.1</span> RECORD [13] Participants</h2>
<!--# Report numbers of individuals at each stage of study—eg numbers potentially eligible, examined for eligibility, confirmed eligible, included in the study, completing follow-up, and analysed. Give reasons for non-participation at each stageConsider use of a flow diagram -->
<div class="cell">
<p>The initial export from the registry returned 21635 records of all types.</p>
</div>
<section id="record-13.1-participant-flow" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="record-13.1-participant-flow"><span class="header-section-number">4.1.1</span> RECORD [13.1] Participant Flow</h3>
<!--# RECORD 13.1: Describe in detail the selection of the persons included in the study (i.e., study population selection) including filtering based on data quality, data availability and linkage. The selection of included persons can be described in the text and/or by means of the study flow diagram. -->
<p>The diagram below (Figure 5) summarises recruitment and categorisation of patients from the SOFARI registry into the final analysis cohort.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>STROBEplot <span class="ot">&lt;-</span> <span class="fu">consort_plot</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> STROBEFlow,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">orders =</span> <span class="fu">c</span>(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">trialno =</span> <span class="st">"Population"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">exclusion1 =</span> <span class="st">"Screened Out"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">trialno =</span> <span class="st">"Active Records"</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">exclusion2 =</span> <span class="st">"Excluded"</span>,</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">trialno =</span> <span class="st">"Total Pool"</span>,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">exclusion3 =</span> <span class="st">"Not Available"</span>,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">trialno =</span> <span class="st">"Available Pool"</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">side_box =</span> <span class="fu">c</span>(</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"exclusion1"</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"exclusion2"</span>,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"exclusion3"</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex =</span> <span class="fl">0.8</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(STROBEplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-strobe" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-strobe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-strobe-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-strobe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Flow chart of treatment record inclusion for analysis.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="record-14-patient-characteristics" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="record-14-patient-characteristics"><span class="header-section-number">4.2</span> RECORD [14] Patient Characteristics</h2>
<!--# (a) Give characteristics of study participants (eg demographic, clinical, social) and information on exposures and potential confounders(b) Indicate number of participants with missing data for each variable of interest (c) Cohort study—Summarise follow-up time (eg, average and total amount) -->
<p>Summarising the sample by anatomical region showed the ankle to be most common presentation, followed by multiple regions (Figure 6).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>min_count <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic counts</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  basic_counts2 <span class="ot">&lt;-</span> MasterAnalysis <span class="sc">|&gt;</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Region, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">percentage =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">cumulative_percentage =</span> <span class="fu">cumsum</span>(percentage)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a> <span class="co"># Create visualization</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  plot_data <span class="ot">&lt;-</span> basic_counts2 <span class="sc">|&gt;</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>      n <span class="sc">&gt;=</span> min_count,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(Region)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>      )  <span class="co"># Filter for readability</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>  cohort_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Region, <span class="sc">-</span>n), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"%.1f%%"</span>, percentage)), </span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Diagnostic Groups"</span>,</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"Region"</span>,</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">knit_print</span>(cohort_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-cohort-breakdown" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cohort-breakdown-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-cohort-breakdown-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cohort-breakdown-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Breakdown of sample by diagnostic group - region labels.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Patient characteristics for the sample are summarised in Table 2.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>Table4 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_summary</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  MasterAnalysis <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(<span class="fu">c</span>(</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>      TreatmentID,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>      PatientID,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>      PCSSF_TotalScore_Preop</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    AgeAtInitialExam <span class="sc">~</span> <span class="st">"Age"</span>,</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>    InjuryToPresentation <span class="sc">~</span> <span class="st">"Onset to Presentation (Days)"</span>,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#BMI ~ "Body Mass Index",</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    BilateralPres <span class="sc">~</span> <span class="st">"Bilateral"</span>,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span>,</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    Sex2 <span class="sc">~</span> <span class="st">"Female"</span>,</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    Satisfaction_Preop <span class="sc">~</span> <span class="st">"Symptom Satisfaction"</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="fu">list</span>(</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    Sex2 <span class="sc">~</span> <span class="st">"dichotomous"</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> <span class="fu">list</span>(</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>      Sex2 <span class="sc">~</span> <span class="st">"Female"</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">statistic =</span> <span class="fu">list</span>(</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">all_continuous</span>() <span class="sc">~</span> <span class="st">"{mean} ({sd})"</span>,</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">all_categorical</span>() <span class="sc">~</span> <span class="st">"{p}% ({n})"</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing =</span> <span class="st">"no"</span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> gtsummary<span class="sc">::</span><span class="fu">add_n</span>() <span class="sc">|&gt;</span> gtsummary<span class="sc">::</span><span class="fu">add_ci</span>(<span class="at">statistic =</span> <span class="fu">list</span>(<span class="fu">all_categorical</span>() <span class="sc">~</span> <span class="st">"{conf.low} - {conf.high}"</span>,</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">all_continuous</span>() <span class="sc">~</span> <span class="st">"{conf.low} - {conf.high}"</span>)) <span class="sc">|&gt;</span> gtsummary<span class="sc">::</span><span class="fu">add_stat_label</span>(</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">location =</span> <span class="st">"row"</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># |&gt; modify_table_styling(</span></span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   columns = label,</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   rows = label == "DVA",</span></span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   footnote = "DVA = Department of Veterans Affairs"</span></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ) %&gt;% modify_table_styling(</span></span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   columns = label,</span></span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   rows = label == "TAC",</span></span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   footnote = "TAC = Transport Accident Commission"</span></span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># )</span></span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(Table4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-demographics" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-demographics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: Summary of patient and treatment record characteristics for the analysed sample.
</figcaption>
<div aria-describedby="tbl-demographics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="eqcbacjzbu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#eqcbacjzbu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eqcbacjzbu thead, #eqcbacjzbu tbody, #eqcbacjzbu tfoot, #eqcbacjzbu tr, #eqcbacjzbu td, #eqcbacjzbu th {
  border-style: none;
}

#eqcbacjzbu p {
  margin: 0;
  padding: 0;
}

#eqcbacjzbu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eqcbacjzbu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eqcbacjzbu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eqcbacjzbu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eqcbacjzbu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eqcbacjzbu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eqcbacjzbu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eqcbacjzbu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eqcbacjzbu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eqcbacjzbu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eqcbacjzbu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eqcbacjzbu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eqcbacjzbu .gt_spanner_row {
  border-bottom-style: hidden;
}

#eqcbacjzbu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eqcbacjzbu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eqcbacjzbu .gt_from_md > :first-child {
  margin-top: 0;
}

#eqcbacjzbu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eqcbacjzbu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eqcbacjzbu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eqcbacjzbu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eqcbacjzbu .gt_row_group_first td {
  border-top-width: 2px;
}

#eqcbacjzbu .gt_row_group_first th {
  border-top-width: 2px;
}

#eqcbacjzbu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eqcbacjzbu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eqcbacjzbu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eqcbacjzbu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eqcbacjzbu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eqcbacjzbu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eqcbacjzbu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eqcbacjzbu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eqcbacjzbu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eqcbacjzbu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eqcbacjzbu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eqcbacjzbu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eqcbacjzbu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eqcbacjzbu .gt_left {
  text-align: left;
}

#eqcbacjzbu .gt_center {
  text-align: center;
}

#eqcbacjzbu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eqcbacjzbu .gt_font_normal {
  font-weight: normal;
}

#eqcbacjzbu .gt_font_bold {
  font-weight: bold;
}

#eqcbacjzbu .gt_font_italic {
  font-style: italic;
}

#eqcbacjzbu .gt_super {
  font-size: 65%;
}

#eqcbacjzbu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eqcbacjzbu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eqcbacjzbu .gt_indent_1 {
  text-indent: 5px;
}

#eqcbacjzbu .gt_indent_2 {
  text-indent: 10px;
}

#eqcbacjzbu .gt_indent_3 {
  text-indent: 15px;
}

#eqcbacjzbu .gt_indent_4 {
  text-indent: 20px;
}

#eqcbacjzbu .gt_indent_5 {
  text-indent: 25px;
}

#eqcbacjzbu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#eqcbacjzbu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>N</strong></th>
<th id="stat_0" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>N = 11,921</strong></th>
<th id="ci_stat_0" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>95% CI</strong></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label">TreatmentType, % (n)</td>
<td class="gt_row gt_center" headers="n">11,919</td>
<td class="gt_row gt_center" headers="stat_0"><br>
</td>
<td class="gt_row gt_center" headers="ci_stat_0"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Primary</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">97% (11,595)</td>
<td class="gt_row gt_center" headers="ci_stat_0">97 - 98</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Revision Else</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">1.9% (232)</td>
<td class="gt_row gt_center" headers="ci_stat_0">1.7 - 2.2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Revision Own</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">0.8% (92)</td>
<td class="gt_row gt_center" headers="ci_stat_0">0.63 - 0.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">Female, % (n)</td>
<td class="gt_row gt_center" headers="n">11,895</td>
<td class="gt_row gt_center" headers="stat_0">56% (6,653)</td>
<td class="gt_row gt_center" headers="ci_stat_0">55 - 57</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">Provider, % (n)</td>
<td class="gt_row gt_center" headers="n">11,921</td>
<td class="gt_row gt_center" headers="stat_0"><br>
</td>
<td class="gt_row gt_center" headers="ci_stat_0"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;AW</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">63% (7,537)</td>
<td class="gt_row gt_center" headers="ci_stat_0">62 - 64</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;MS1</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">7.6% (902)</td>
<td class="gt_row gt_center" headers="ci_stat_0">7.1 - 8.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;MS2</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">22% (2,578)</td>
<td class="gt_row gt_center" headers="ci_stat_0">21 - 22</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;RM</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">7.6% (904)</td>
<td class="gt_row gt_center" headers="ci_stat_0">7.1 - 8.1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">Age, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">11,842</td>
<td class="gt_row gt_center" headers="stat_0">50 (18)</td>
<td class="gt_row gt_center" headers="ci_stat_0">49 - 50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">Onset to Presentation (Days), Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,222</td>
<td class="gt_row gt_center" headers="stat_0">276 (516)</td>
<td class="gt_row gt_center" headers="ci_stat_0">263 - 289</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">VR12_Physical_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,605</td>
<td class="gt_row gt_center" headers="stat_0">38 (11)</td>
<td class="gt_row gt_center" headers="ci_stat_0">38 - 38</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">VR12_Mental_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,598</td>
<td class="gt_row gt_center" headers="stat_0">51 (11)</td>
<td class="gt_row gt_center" headers="ci_stat_0">51 - 52</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">SRCQTotalScore, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">5,849</td>
<td class="gt_row gt_center" headers="stat_0">2.63 (2.93)</td>
<td class="gt_row gt_center" headers="ci_stat_0">2.6 - 2.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">Symptom Satisfaction, % (n)</td>
<td class="gt_row gt_center" headers="n">6,353</td>
<td class="gt_row gt_center" headers="stat_0"><br>
</td>
<td class="gt_row gt_center" headers="ci_stat_0"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Neutral</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">6.4% (409)</td>
<td class="gt_row gt_center" headers="ci_stat_0">5.9 - 7.1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Somewhat dissatisfied</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">30% (1,920)</td>
<td class="gt_row gt_center" headers="ci_stat_0">29 - 31</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Somewhat satisfied</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">2.8% (175)</td>
<td class="gt_row gt_center" headers="ci_stat_0">2.4 - 3.2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Very dissatisfied</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">59% (3,780)</td>
<td class="gt_row gt_center" headers="ci_stat_0">58 - 61</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Very satisfied</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">1.1% (69)</td>
<td class="gt_row gt_center" headers="ci_stat_0">0.85 - 1.4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">Diagnostic Group, % (n)</td>
<td class="gt_row gt_center" headers="n">11,921</td>
<td class="gt_row gt_center" headers="stat_0"><br>
</td>
<td class="gt_row gt_center" headers="ci_stat_0"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">34% (4,040)</td>
<td class="gt_row gt_center" headers="ci_stat_0">33 - 35</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">1.0% (124)</td>
<td class="gt_row gt_center" headers="ci_stat_0">0.87 - 1.2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">25% (2,952)</td>
<td class="gt_row gt_center" headers="ci_stat_0">24 - 26</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">9.6% (1,146)</td>
<td class="gt_row gt_center" headers="ci_stat_0">9.1 - 10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">25% (3,014)</td>
<td class="gt_row gt_center" headers="ci_stat_0">25 - 26</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">5.4% (645)</td>
<td class="gt_row gt_center" headers="ci_stat_0">5.0 - 5.8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">Bilateral, % (n)</td>
<td class="gt_row gt_center" headers="n">11,921</td>
<td class="gt_row gt_center" headers="stat_0"><br>
</td>
<td class="gt_row gt_center" headers="ci_stat_0"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Index</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">0.6% (68)</td>
<td class="gt_row gt_center" headers="ci_stat_0">0.45 - 0.73</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Simultaneous</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">13% (1,564)</td>
<td class="gt_row gt_center" headers="ci_stat_0">13 - 14</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Subsequent</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">0.6% (69)</td>
<td class="gt_row gt_center" headers="ci_stat_0">0.45 - 0.74</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Unilateral</td>
<td class="gt_row gt_center" headers="n"><br>
</td>
<td class="gt_row gt_center" headers="stat_0">86% (10,220)</td>
<td class="gt_row gt_center" headers="ci_stat_0">85 - 86</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">FAOS_Symptom_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,218</td>
<td class="gt_row gt_center" headers="stat_0">65 (23)</td>
<td class="gt_row gt_center" headers="ci_stat_0">64 - 65</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">FAOS_Pain_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,215</td>
<td class="gt_row gt_center" headers="stat_0">60 (22)</td>
<td class="gt_row gt_center" headers="ci_stat_0">60 - 61</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">FAOS_DailyLiving_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,211</td>
<td class="gt_row gt_center" headers="stat_0">69 (24)</td>
<td class="gt_row gt_center" headers="ci_stat_0">69 - 70</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">FAOS_Sport_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,172</td>
<td class="gt_row gt_center" headers="stat_0">49 (32)</td>
<td class="gt_row gt_center" headers="ci_stat_0">48 - 49</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">FAOS_Quality_TotalScore_Preop, Mean (SD)</td>
<td class="gt_row gt_center" headers="n">6,209</td>
<td class="gt_row gt_center" headers="stat_0">37 (25)</td>
<td class="gt_row gt_center" headers="ci_stat_0">37 - 38</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="odd">
<td colspan="4" class="gt_sourcenote">Abbreviation: CI = Confidence Interval</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="record-15-outcome-data" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="record-15-outcome-data"><span class="header-section-number">4.3</span> RECORD [15] Outcome data</h2>
<!--# Cohort study—Report numbers of outcome events or summary measures over timeCase-control study—Report numbers in each exposure category, or summary measures of exposure Cross-sectional study—Report numbers of outcome events or summary measures -->
<p>Complete case analysis displayed unique distributions of PCS-SF total score between diagnostic groups (Figure 7).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>FAOSPlot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> MasterAnalysis, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> FAOS_Pain_TotalScore_Preop, <span class="at">x =</span> Region)) <span class="sc">+</span> <span class="fu">stat_slabinterval</span>(<span class="fu">aes</span>(<span class="at">thickness =</span> <span class="fu">after_stat</span>(pdf<span class="sc">*</span>n)), <span class="at">scale =</span> <span class="fl">0.7</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dotsinterval</span>(<span class="at">side =</span> <span class="st">"right"</span>, <span class="at">scale =</span> <span class="fl">0.7</span>, <span class="at">slab_linewidth =</span> <span class="cn">NA</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"FAOS Pain"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>FAOSPlot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> MasterAnalysis <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Sex2)), <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> FAOS_Pain_TotalScore_Preop, <span class="at">x =</span> Sex2)) <span class="sc">+</span> <span class="fu">stat_slabinterval</span>(<span class="fu">aes</span>(<span class="at">thickness =</span> <span class="fu">after_stat</span>(pdf<span class="sc">*</span>n)), <span class="at">scale =</span> <span class="fl">0.7</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dotsinterval</span>(<span class="at">side =</span> <span class="st">"right"</span>, <span class="at">scale =</span> <span class="fl">0.7</span>, <span class="at">slab_linewidth =</span> <span class="cn">NA</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"FAOS Pain"</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 3: Age relationship - this needs the most careful handling of missing data</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="co"># First, create a dataset with complete cases for the model</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>complete_data <span class="ot">&lt;-</span> MasterAnalysis <span class="sc">|&gt;</span> </span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(FAOS_Pain_TotalScore_Preop) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(AgeAtInitialExam))</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if we have enough data</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">nrow</span>(complete_data) <span class="sc">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">warning</span>(<span class="st">"Very few complete cases available for regression analysis"</span>)</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the linear model on complete data only</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>FAOSlm_simple <span class="ot">&lt;-</span> <span class="fu">lm</span>(FAOS_Pain_TotalScore_Preop <span class="sc">~</span> AgeAtInitialExam, </span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>                    <span class="at">data =</span> complete_data)</span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create prediction grid based on the range of non-missing age data</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>prediction_data3 <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">expand_grid</span>(</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">AgeAtInitialExam =</span> <span class="fu">seq</span>(<span class="fu">min</span>(complete_data<span class="sc">$</span>AgeAtInitialExam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">max</span>(complete_data<span class="sc">$</span>AgeAtInitialExam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>                         <span class="at">length.out =</span> <span class="dv">101</span>)</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot using complete data</span></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>FAOSPlot3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> complete_data, </span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>                    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> AgeAtInitialExam, <span class="at">y =</span> FAOS_Pain_TotalScore_Preop)) <span class="sc">+</span> </span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># stat_lineribbon(</span></span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   data = augment(FAOSlm_simple, newdata = prediction_data3, se_fit = TRUE),</span></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   aes(ydist = distributional::dist_student_t(df = df.residual(FAOSlm_simple), </span></span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                              mu = .fitted, </span></span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>  <span class="co">#                              sigma = .se.fit)),</span></span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   color = "red", fill = "red", alpha = 0.2, .width = 0.95) +</span></span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"FAOS Pain"</span>)</span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the plots</span></span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a>FAOSPlot1 <span class="sc">/</span> FAOSPlot2 <span class="sc">/</span> FAOSPlot3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-faospain-cca" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-faospain-cca-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-faospain-cca-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-faospain-cca-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: FAOS Pain subscale Total Score by Diagnostic Group
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>FAOSlm1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    FAOS_Pain_TotalScore_Preop <span class="sc">~</span> Sex2 <span class="sc">*</span> AgeAtInitialExam,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> MasterAnalysis <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Sex2))</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the expanded grid manually</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>prediction_data1 <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">expand_grid</span>(</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sex2 =</span> <span class="fu">unique</span>(MasterAnalysis<span class="sc">$</span>Sex2[<span class="sc">!</span><span class="fu">is.na</span>(MasterAnalysis<span class="sc">$</span>Sex2)]),</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">AgeAtInitialExam =</span> <span class="fu">seq</span>(<span class="fu">min</span>(MasterAnalysis<span class="sc">$</span>AgeAtInitialExam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">max</span>(MasterAnalysis<span class="sc">$</span>AgeAtInitialExam, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>                         <span class="at">length.out =</span> <span class="dv">101</span>)</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>  FAOSlmFig <span class="ot">&lt;-</span> <span class="fu">augment</span>(FAOSlm1, <span class="at">newdata =</span> prediction_data1, <span class="at">se_fit =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> AgeAtInitialExam, <span class="at">fill =</span> <span class="fu">ordered</span>(Sex2), <span class="at">color =</span> <span class="fu">ordered</span>(Sex2))) <span class="sc">+</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_lineribbon</span>(</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ydist =</span> distributional<span class="sc">::</span><span class="fu">dist_student_t</span>(<span class="at">df =</span> <span class="fu">df.residual</span>(FAOSlm1), <span class="at">mu =</span> .fitted, <span class="at">sigma =</span> .se.fit)),</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(aes(y = FAOS_Pain_TotalScore_Preop), data = MasterAnalysis) +</span></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Dark2"</span>) <span class="sc">+</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Sex2"</span>,</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Sex2"</span>,</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"FAOS_Pain_TotalScore_Preop"</span></span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>FAOSlm2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    FAOS_Pain_TotalScore_Preop <span class="sc">~</span> Sex2 <span class="sc">*</span> SRCQTotalScore,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> MasterAnalysis <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Sex2))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the expanded grid manually</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>prediction_data2 <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">expand_grid</span>(</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sex2 =</span> <span class="fu">unique</span>(MasterAnalysis<span class="sc">$</span>Sex2[<span class="sc">!</span><span class="fu">is.na</span>(MasterAnalysis<span class="sc">$</span>Sex2)]),</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">SRCQTotalScore =</span> <span class="fu">seq</span>(<span class="fu">min</span>(MasterAnalysis<span class="sc">$</span>SRCQTotalScore, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">max</span>(MasterAnalysis<span class="sc">$</span>SRCQTotalScore, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>                         <span class="at">length.out =</span> <span class="dv">101</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  FAOSlmFig2 <span class="ot">&lt;-</span> <span class="fu">augment</span>(FAOSlm2, <span class="at">newdata =</span> prediction_data2, <span class="at">se_fit =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> SRCQTotalScore, <span class="at">fill =</span> <span class="fu">ordered</span>(Sex2), <span class="at">color =</span> <span class="fu">ordered</span>(Sex2))) <span class="sc">+</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_lineribbon</span>(</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ydist =</span> distributional<span class="sc">::</span><span class="fu">dist_student_t</span>(<span class="at">df =</span> <span class="fu">df.residual</span>(FAOSlm2), <span class="at">mu =</span> .fitted, <span class="at">sigma =</span> .se.fit)),</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_point(aes(y = FAOS_Pain_TotalScore_Preop), data = MasterAnalysis) +</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>) <span class="sc">+</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Dark2"</span>) <span class="sc">+</span></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Sex2"</span>,</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Sex2"</span>,</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"FAOS_Pain_TotalScore_Preop"</span></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSlmFig2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="SOFARI_Baseline_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Correlation matrix for FAOS subscales</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>FAOSCorr <span class="ot">&lt;-</span> <span class="fu">cor</span>(MasterAnalysis <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"FAOS"</span>)) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Pain =</span> <span class="st">"FAOS_Pain_TotalScore_Preop"</span>,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ADL =</span> <span class="st">"FAOS_DailyLiving_TotalScore_Preop"</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Symptoms =</span> <span class="st">"FAOS_Symptom_TotalScore_Preop"</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sport =</span> <span class="st">"FAOS_Sport_TotalScore_Preop"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">QoL =</span> <span class="st">"FAOS_Quality_TotalScore_Preop"</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>FAOSCorrPlot <span class="ot">&lt;-</span> <span class="fu">corrplot</span>(FAOSCorr, <span class="at">method =</span> <span class="st">"number"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSCorrPlot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$corr
          Symptoms      Pain       ADL     Sport       QoL
Symptoms 1.0000000 0.6747166 0.6353669 0.5973797 0.5635241
Pain     0.6747166 1.0000000 0.8316436 0.6667254 0.6551129
ADL      0.6353669 0.8316436 1.0000000 0.7101361 0.6595432
Sport    0.5973797 0.6667254 0.7101361 1.0000000 0.6569004
QoL      0.5635241 0.6551129 0.6595432 0.6569004 1.0000000

$corrPos
      xName    yName x y      corr
1  Symptoms Symptoms 1 5 1.0000000
2  Symptoms     Pain 1 4 0.6747166
3  Symptoms      ADL 1 3 0.6353669
4  Symptoms    Sport 1 2 0.5973797
5  Symptoms      QoL 1 1 0.5635241
6      Pain Symptoms 2 5 0.6747166
7      Pain     Pain 2 4 1.0000000
8      Pain      ADL 2 3 0.8316436
9      Pain    Sport 2 2 0.6667254
10     Pain      QoL 2 1 0.6551129
11      ADL Symptoms 3 5 0.6353669
12      ADL     Pain 3 4 0.8316436
13      ADL      ADL 3 3 1.0000000
14      ADL    Sport 3 2 0.7101361
15      ADL      QoL 3 1 0.6595432
16    Sport Symptoms 4 5 0.5973797
17    Sport     Pain 4 4 0.6667254
18    Sport      ADL 4 3 0.7101361
19    Sport    Sport 4 2 1.0000000
20    Sport      QoL 4 1 0.6569004
21      QoL Symptoms 5 5 0.5635241
22      QoL     Pain 5 4 0.6551129
23      QoL      ADL 5 3 0.6595432
24      QoL    Sport 5 2 0.6569004
25      QoL      QoL 5 1 1.0000000

$arg
$arg$type
[1] "full"</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-corr-plot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-corr-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-corr-plot-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corr-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Correlation matrix for FAOS subscales at baseline
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="record-16-main-results" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="record-16-main-results"><span class="header-section-number">4.4</span> RECORD [16] Main results</h2>
<!--# (a) Give unadjusted estimates and, if applicable, confounder-adjusted estimates and their precision (eg, 95% confidence interval). Make clear which confounders were adjusted for and why they were included. (b) Report category boundaries when continuous variables were categorized. (c) If relevant, consider translating estimates of relative risk into absolute risk for a meaningful time period -->
<p>Table 4: Summary of regression assessing the effect of region on PCS-SF adjusted for confounders.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>FAOSPainfit1 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  FAOSPainMod1,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tidy_fun =</span> pool_and_tidy_mice,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>                            Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>               ),</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_number</span>(x, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">pvalue_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_pvalue</span>(x, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_estimate_to_reference_rows =</span> <span class="cn">TRUE</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>FAOSSympfit1 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  FAOSSympMod1,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">tidy_fun =</span> pool_and_tidy_mice,</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>                            Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>               ),</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_number</span>(x, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">pvalue_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_pvalue</span>(x, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_estimate_to_reference_rows =</span> <span class="cn">TRUE</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>FAOSADLfit1 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>  FAOSADLMod1,</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">tidy_fun =</span> pool_and_tidy_mice,</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>                            Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>               ),</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_number</span>(x, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">pvalue_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_pvalue</span>(x, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_estimate_to_reference_rows =</span> <span class="cn">TRUE</span></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>FAOSSportfit1 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(</span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>  FAOSSportMod1,</span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">tidy_fun =</span> pool_and_tidy_mice,</span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>                            Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span></span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a>               ),</span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_number</span>(x, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">pvalue_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_pvalue</span>(x, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_estimate_to_reference_rows =</span> <span class="cn">TRUE</span></span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a>FAOSQOLfit1 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(</span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a>  FAOSQOLMod1,</span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">tidy_fun =</span> pool_and_tidy_mice,</span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb47-49"><a href="#cb47-49" aria-hidden="true" tabindex="-1"></a>                            Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span></span>
<span id="cb47-50"><a href="#cb47-50" aria-hidden="true" tabindex="-1"></a>               ),</span>
<span id="cb47-51"><a href="#cb47-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_number</span>(x, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb47-52"><a href="#cb47-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">pvalue_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_pvalue</span>(x, <span class="at">digits =</span> <span class="dv">3</span>),</span>
<span id="cb47-53"><a href="#cb47-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">add_estimate_to_reference_rows =</span> <span class="cn">TRUE</span></span>
<span id="cb47-54"><a href="#cb47-54" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-55"><a href="#cb47-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-56"><a href="#cb47-56" aria-hidden="true" tabindex="-1"></a>FAOSfit1 <span class="ot">&lt;-</span> <span class="fu">tbl_stack</span>(<span class="fu">list</span>(</span>
<span id="cb47-57"><a href="#cb47-57" aria-hidden="true" tabindex="-1"></a>  FAOSPainfit1,</span>
<span id="cb47-58"><a href="#cb47-58" aria-hidden="true" tabindex="-1"></a>  FAOSSympfit1,</span>
<span id="cb47-59"><a href="#cb47-59" aria-hidden="true" tabindex="-1"></a>  FAOSADLfit1,</span>
<span id="cb47-60"><a href="#cb47-60" aria-hidden="true" tabindex="-1"></a>  FAOSSportfit1,</span>
<span id="cb47-61"><a href="#cb47-61" aria-hidden="true" tabindex="-1"></a>  FAOSQOLfit1</span>
<span id="cb47-62"><a href="#cb47-62" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb47-63"><a href="#cb47-63" aria-hidden="true" tabindex="-1"></a><span class="at">group_header =</span> <span class="fu">c</span>(<span class="st">"Pain"</span>, <span class="st">"Symptoms"</span>, <span class="st">"ADL"</span>, <span class="st">"Sport"</span>, <span class="st">"Quality of Life"</span>)</span>
<span id="cb47-64"><a href="#cb47-64" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-65"><a href="#cb47-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-66"><a href="#cb47-66" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSfit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-FAOS-unadjust" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-FAOS-unadjust-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: Summary of regression assessing the effect of region on FAOS unadjusted
</figcaption>
<div aria-describedby="tbl-FAOS-unadjust-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="cqudietzdk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#cqudietzdk table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#cqudietzdk thead, #cqudietzdk tbody, #cqudietzdk tfoot, #cqudietzdk tr, #cqudietzdk td, #cqudietzdk th {
  border-style: none;
}

#cqudietzdk p {
  margin: 0;
  padding: 0;
}

#cqudietzdk .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cqudietzdk .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cqudietzdk .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cqudietzdk .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cqudietzdk .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cqudietzdk .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cqudietzdk .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cqudietzdk .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cqudietzdk .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cqudietzdk .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cqudietzdk .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cqudietzdk .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cqudietzdk .gt_spanner_row {
  border-bottom-style: hidden;
}

#cqudietzdk .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cqudietzdk .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cqudietzdk .gt_from_md > :first-child {
  margin-top: 0;
}

#cqudietzdk .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cqudietzdk .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cqudietzdk .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cqudietzdk .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cqudietzdk .gt_row_group_first td {
  border-top-width: 2px;
}

#cqudietzdk .gt_row_group_first th {
  border-top-width: 2px;
}

#cqudietzdk .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqudietzdk .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cqudietzdk .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cqudietzdk .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cqudietzdk .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqudietzdk .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cqudietzdk .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#cqudietzdk .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cqudietzdk .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cqudietzdk .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cqudietzdk .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqudietzdk .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cqudietzdk .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cqudietzdk .gt_left {
  text-align: left;
}

#cqudietzdk .gt_center {
  text-align: center;
}

#cqudietzdk .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cqudietzdk .gt_font_normal {
  font-weight: normal;
}

#cqudietzdk .gt_font_bold {
  font-weight: bold;
}

#cqudietzdk .gt_font_italic {
  font-style: italic;
}

#cqudietzdk .gt_super {
  font-size: 65%;
}

#cqudietzdk .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#cqudietzdk .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cqudietzdk .gt_indent_1 {
  text-indent: 5px;
}

#cqudietzdk .gt_indent_2 {
  text-indent: 10px;
}

#cqudietzdk .gt_indent_3 {
  text-indent: 15px;
}

#cqudietzdk .gt_indent_4 {
  text-indent: 20px;
}

#cqudietzdk .gt_indent_5 {
  text-indent: 25px;
}

#cqudietzdk .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#cqudietzdk div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Beta</strong></th>
<th id="conf.low" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>95% CI</strong></th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>p-value</strong></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd gt_group_heading_row">
<td colspan="4" id="Pain" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Pain</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Pain  label">Diagnostic Group</td>
<td class="gt_row gt_center" headers="Pain  estimate"><br>
</td>
<td class="gt_row gt_center" headers="Pain  conf.low"><br>
</td>
<td class="gt_row gt_center" headers="Pain  p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Pain  label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="Pain  estimate">0.00</td>
<td class="gt_row gt_center" headers="Pain  conf.low">—</td>
<td class="gt_row gt_center" headers="Pain  p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Pain  label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="Pain  estimate">3.55</td>
<td class="gt_row gt_center" headers="Pain  conf.low">-1.14, 8.25</td>
<td class="gt_row gt_center" headers="Pain  p.value">0.137</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Pain  label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="Pain  estimate">7.86</td>
<td class="gt_row gt_center" headers="Pain  conf.low">6.60, 9.13</td>
<td class="gt_row gt_center" headers="Pain  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Pain  label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="Pain  estimate">0.88</td>
<td class="gt_row gt_center" headers="Pain  conf.low">-0.79, 2.55</td>
<td class="gt_row gt_center" headers="Pain  p.value">0.299</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Pain  label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="Pain  estimate">0.98</td>
<td class="gt_row gt_center" headers="Pain  conf.low">-0.34, 2.29</td>
<td class="gt_row gt_center" headers="Pain  p.value">0.145</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Pain  label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="Pain  estimate">0.32</td>
<td class="gt_row gt_center" headers="Pain  conf.low">-1.80, 2.44</td>
<td class="gt_row gt_center" headers="Pain  p.value">0.767</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="4" id="Symptoms" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Symptoms</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Symptoms  label">Diagnostic Group</td>
<td class="gt_row gt_center" headers="Symptoms  estimate"><br>
</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low"><br>
</td>
<td class="gt_row gt_center" headers="Symptoms  p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Symptoms  label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="Symptoms  estimate">0.00</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low">—</td>
<td class="gt_row gt_center" headers="Symptoms  p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Symptoms  label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="Symptoms  estimate">0.71</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low">-4.17, 5.58</td>
<td class="gt_row gt_center" headers="Symptoms  p.value">0.775</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Symptoms  label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="Symptoms  estimate">12.70</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low">11.44, 13.96</td>
<td class="gt_row gt_center" headers="Symptoms  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Symptoms  label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="Symptoms  estimate">5.71</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low">3.98, 7.43</td>
<td class="gt_row gt_center" headers="Symptoms  p.value">&lt;0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Symptoms  label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="Symptoms  estimate">4.70</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low">3.43, 5.98</td>
<td class="gt_row gt_center" headers="Symptoms  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Symptoms  label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="Symptoms  estimate">6.42</td>
<td class="gt_row gt_center" headers="Symptoms  conf.low">4.41, 8.42</td>
<td class="gt_row gt_center" headers="Symptoms  p.value">&lt;0.001</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="4" id="ADL" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">ADL</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="ADL  label">Diagnostic Group</td>
<td class="gt_row gt_center" headers="ADL  estimate"><br>
</td>
<td class="gt_row gt_center" headers="ADL  conf.low"><br>
</td>
<td class="gt_row gt_center" headers="ADL  p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="ADL  label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="ADL  estimate">0.00</td>
<td class="gt_row gt_center" headers="ADL  conf.low">—</td>
<td class="gt_row gt_center" headers="ADL  p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="ADL  label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="ADL  estimate">1.13</td>
<td class="gt_row gt_center" headers="ADL  conf.low">-4.04, 6.30</td>
<td class="gt_row gt_center" headers="ADL  p.value">0.666</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="ADL  label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="ADL  estimate">8.70</td>
<td class="gt_row gt_center" headers="ADL  conf.low">7.36, 10.05</td>
<td class="gt_row gt_center" headers="ADL  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="ADL  label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="ADL  estimate">0.82</td>
<td class="gt_row gt_center" headers="ADL  conf.low">-0.99, 2.63</td>
<td class="gt_row gt_center" headers="ADL  p.value">0.371</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="ADL  label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="ADL  estimate">2.08</td>
<td class="gt_row gt_center" headers="ADL  conf.low">0.69, 3.47</td>
<td class="gt_row gt_center" headers="ADL  p.value">0.004</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="ADL  label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="ADL  estimate">1.31</td>
<td class="gt_row gt_center" headers="ADL  conf.low">-1.05, 3.66</td>
<td class="gt_row gt_center" headers="ADL  p.value">0.276</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="4" id="Sport" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Sport</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Sport  label">Diagnostic Group</td>
<td class="gt_row gt_center" headers="Sport  estimate"><br>
</td>
<td class="gt_row gt_center" headers="Sport  conf.low"><br>
</td>
<td class="gt_row gt_center" headers="Sport  p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Sport  label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="Sport  estimate">0.00</td>
<td class="gt_row gt_center" headers="Sport  conf.low">—</td>
<td class="gt_row gt_center" headers="Sport  p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Sport  label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="Sport  estimate">3.88</td>
<td class="gt_row gt_center" headers="Sport  conf.low">-2.92, 10.67</td>
<td class="gt_row gt_center" headers="Sport  p.value">0.262</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Sport  label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="Sport  estimate">15.35</td>
<td class="gt_row gt_center" headers="Sport  conf.low">13.64, 17.05</td>
<td class="gt_row gt_center" headers="Sport  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Sport  label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="Sport  estimate">4.21</td>
<td class="gt_row gt_center" headers="Sport  conf.low">1.92, 6.50</td>
<td class="gt_row gt_center" headers="Sport  p.value">&lt;0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Sport  label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="Sport  estimate">4.41</td>
<td class="gt_row gt_center" headers="Sport  conf.low">2.78, 6.04</td>
<td class="gt_row gt_center" headers="Sport  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Sport  label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="Sport  estimate">5.14</td>
<td class="gt_row gt_center" headers="Sport  conf.low">2.13, 8.14</td>
<td class="gt_row gt_center" headers="Sport  p.value">&lt;0.001</td>
</tr>
<tr class="odd gt_group_heading_row">
<td colspan="4" id="Quality of Life" class="gt_group_heading" data-quarto-table-cell-role="th" scope="colgroup">Quality of Life</td>
</tr>
<tr class="even gt_row_group_first">
<td class="gt_row gt_left" headers="Quality of Life  label">Diagnostic Group</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate"><br>
</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low"><br>
</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Quality of Life  label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate">0.00</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low">—</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Quality of Life  label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate">1.31</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low">-3.80, 6.43</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value">0.614</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Quality of Life  label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate">10.97</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low">9.56, 12.38</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Quality of Life  label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate">2.82</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low">0.87, 4.77</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value">0.005</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Quality of Life  label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate">2.86</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low">1.49, 4.23</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Quality of Life  label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="Quality of Life  estimate">2.19</td>
<td class="gt_row gt_center" headers="Quality of Life  conf.low">-0.43, 4.81</td>
<td class="gt_row gt_center" headers="Quality of Life  p.value">0.100</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="odd">
<td colspan="4" class="gt_sourcenote">Abbreviation: CI = Confidence Interval</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>FAOSPainfit2 <span class="ot">&lt;-</span> gtsummary<span class="sc">::</span><span class="fu">tbl_regression</span>(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  FAOSPainMod2,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tidy_fun =</span> pool_and_tidy_mice,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">label =</span> <span class="fu">list</span>(</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>                            Region <span class="sc">~</span> <span class="st">"Diagnostic Group"</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>               ),</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimate_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_number</span>(x, <span class="at">digits =</span> <span class="dv">2</span>), </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">pvalue_fun =</span> <span class="cf">function</span>(x) <span class="fu">style_pvalue</span>(x, <span class="at">digits =</span> <span class="dv">3</span>)</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>)  </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSPainfit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-FAOSPain-adjust" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-FAOSPain-adjust-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Summary of regression assessing the effect of region on FAOS adjusted for confounders
</figcaption>
<div aria-describedby="tbl-FAOSPain-adjust-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="bgilzxaqnb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bgilzxaqnb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bgilzxaqnb thead, #bgilzxaqnb tbody, #bgilzxaqnb tfoot, #bgilzxaqnb tr, #bgilzxaqnb td, #bgilzxaqnb th {
  border-style: none;
}

#bgilzxaqnb p {
  margin: 0;
  padding: 0;
}

#bgilzxaqnb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bgilzxaqnb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bgilzxaqnb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bgilzxaqnb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bgilzxaqnb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bgilzxaqnb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bgilzxaqnb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bgilzxaqnb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bgilzxaqnb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bgilzxaqnb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bgilzxaqnb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bgilzxaqnb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bgilzxaqnb .gt_spanner_row {
  border-bottom-style: hidden;
}

#bgilzxaqnb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bgilzxaqnb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bgilzxaqnb .gt_from_md > :first-child {
  margin-top: 0;
}

#bgilzxaqnb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bgilzxaqnb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bgilzxaqnb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bgilzxaqnb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bgilzxaqnb .gt_row_group_first td {
  border-top-width: 2px;
}

#bgilzxaqnb .gt_row_group_first th {
  border-top-width: 2px;
}

#bgilzxaqnb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bgilzxaqnb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bgilzxaqnb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bgilzxaqnb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bgilzxaqnb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bgilzxaqnb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bgilzxaqnb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bgilzxaqnb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bgilzxaqnb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bgilzxaqnb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bgilzxaqnb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bgilzxaqnb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bgilzxaqnb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bgilzxaqnb .gt_left {
  text-align: left;
}

#bgilzxaqnb .gt_center {
  text-align: center;
}

#bgilzxaqnb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bgilzxaqnb .gt_font_normal {
  font-weight: normal;
}

#bgilzxaqnb .gt_font_bold {
  font-weight: bold;
}

#bgilzxaqnb .gt_font_italic {
  font-style: italic;
}

#bgilzxaqnb .gt_super {
  font-size: 65%;
}

#bgilzxaqnb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bgilzxaqnb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bgilzxaqnb .gt_indent_1 {
  text-indent: 5px;
}

#bgilzxaqnb .gt_indent_2 {
  text-indent: 10px;
}

#bgilzxaqnb .gt_indent_3 {
  text-indent: 15px;
}

#bgilzxaqnb .gt_indent_4 {
  text-indent: 20px;
}

#bgilzxaqnb .gt_indent_5 {
  text-indent: 25px;
}

#bgilzxaqnb .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#bgilzxaqnb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header gt_col_headings">
<th id="label" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"><strong>Characteristic</strong></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>Beta</strong></th>
<th id="conf.low" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>95% CI</strong></th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col"><strong>p-value</strong></th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="label">Diagnostic Group</td>
<td class="gt_row gt_center" headers="estimate"><br>
</td>
<td class="gt_row gt_center" headers="conf.low"><br>
</td>
<td class="gt_row gt_center" headers="p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Ankle</td>
<td class="gt_row gt_center" headers="estimate">—</td>
<td class="gt_row gt_center" headers="conf.low">—</td>
<td class="gt_row gt_center" headers="p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Foot</td>
<td class="gt_row gt_center" headers="estimate">5.64</td>
<td class="gt_row gt_center" headers="conf.low">1.29, 10.00</td>
<td class="gt_row gt_center" headers="p.value">0.011</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Forefoot</td>
<td class="gt_row gt_center" headers="estimate">7.83</td>
<td class="gt_row gt_center" headers="conf.low">6.64, 9.03</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Midfoot</td>
<td class="gt_row gt_center" headers="estimate">1.11</td>
<td class="gt_row gt_center" headers="conf.low">-0.46, 2.67</td>
<td class="gt_row gt_center" headers="p.value">0.166</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Multiple</td>
<td class="gt_row gt_center" headers="estimate">1.68</td>
<td class="gt_row gt_center" headers="conf.low">0.51, 2.86</td>
<td class="gt_row gt_center" headers="p.value">0.005</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Rearfoot</td>
<td class="gt_row gt_center" headers="estimate">1.61</td>
<td class="gt_row gt_center" headers="conf.low">-0.37, 3.59</td>
<td class="gt_row gt_center" headers="p.value">0.111</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">AgeAtInitialExam</td>
<td class="gt_row gt_center" headers="estimate">0.00</td>
<td class="gt_row gt_center" headers="conf.low">-0.03, 0.03</td>
<td class="gt_row gt_center" headers="p.value">0.982</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">Sex2</td>
<td class="gt_row gt_center" headers="estimate"><br>
</td>
<td class="gt_row gt_center" headers="conf.low"><br>
</td>
<td class="gt_row gt_center" headers="p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Female</td>
<td class="gt_row gt_center" headers="estimate">—</td>
<td class="gt_row gt_center" headers="conf.low">—</td>
<td class="gt_row gt_center" headers="p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Male</td>
<td class="gt_row gt_center" headers="estimate">1.08</td>
<td class="gt_row gt_center" headers="conf.low">0.12, 2.04</td>
<td class="gt_row gt_center" headers="p.value">0.028</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">BilateralPres</td>
<td class="gt_row gt_center" headers="estimate"><br>
</td>
<td class="gt_row gt_center" headers="conf.low"><br>
</td>
<td class="gt_row gt_center" headers="p.value"><br>
</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Index</td>
<td class="gt_row gt_center" headers="estimate">—</td>
<td class="gt_row gt_center" headers="conf.low">—</td>
<td class="gt_row gt_center" headers="p.value"><br>
</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Simultaneous</td>
<td class="gt_row gt_center" headers="estimate">2.94</td>
<td class="gt_row gt_center" headers="conf.low">-4.04, 9.93</td>
<td class="gt_row gt_center" headers="p.value">0.404</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Subsequent</td>
<td class="gt_row gt_center" headers="estimate">2.62</td>
<td class="gt_row gt_center" headers="conf.low">-7.13, 12.37</td>
<td class="gt_row gt_center" headers="p.value">0.593</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">&nbsp;&nbsp;&nbsp;&nbsp;Unilateral</td>
<td class="gt_row gt_center" headers="estimate">3.60</td>
<td class="gt_row gt_center" headers="conf.low">-3.13, 10.32</td>
<td class="gt_row gt_center" headers="p.value">0.290</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">SRCQTotalScore</td>
<td class="gt_row gt_center" headers="estimate">-0.36</td>
<td class="gt_row gt_center" headers="conf.low">-0.55, -0.16</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="label">VR12_Mental_TotalScore_Preop</td>
<td class="gt_row gt_center" headers="estimate">0.11</td>
<td class="gt_row gt_center" headers="conf.low">0.06, 0.16</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="label">PCSSF_TotalScore_Preop</td>
<td class="gt_row gt_center" headers="estimate">-1.42</td>
<td class="gt_row gt_center" headers="conf.low">-1.53, -1.32</td>
<td class="gt_row gt_center" headers="p.value">&lt;0.001</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="even">
<td colspan="4" class="gt_sourcenote">Abbreviation: CI = Confidence Interval</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<p>Predictions were generated from the model and summarised.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate marginal means</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>FAOSPainPredict <span class="ot">&lt;-</span> marginaleffects<span class="sc">::</span><span class="fu">predictions</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  FAOSPainMod2,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">"response"</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>FAOSPainPlot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> FAOSPainPredict, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Region, <span class="at">x =</span> FAOS_Pain_TotalScore_Preop)) <span class="sc">+</span> <span class="fu">stat_slabinterval</span>(<span class="fu">aes</span>(<span class="at">thickness =</span> <span class="fu">after_stat</span>(pdf<span class="sc">*</span>n)), <span class="at">scale =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dotsinterval</span>(<span class="at">side =</span> <span class="st">"bottom"</span>, <span class="at">scale =</span> <span class="fl">0.7</span>, <span class="at">slab_linewidth =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSPainPlot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-predict-pain" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-predict-pain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="SOFARI_Baseline_files/figure-html/fig-predict-pain-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-predict-pain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Model predicted FAOS-Pain compared between diagnostic groups - region labels
</figcaption>
</figure>
</div>
</div>
</div>
<p>Table 5: Pairwise comparisons between regions for model-predicted averages of PCS-SF.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>FAOSPainComp <span class="ot">&lt;-</span> <span class="fu">avg_comparisons</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  FAOSPainMod2,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">variables =</span> <span class="fu">list</span>(<span class="at">Region =</span> <span class="st">"pairwise"</span>),</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">conf_level =</span> <span class="fl">0.95</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    contrast,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    estimate,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    std.error,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    p.value</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span> <span class="fu">gt</span>() <span class="sc">|&gt;</span> <span class="fu">fmt_number</span>(</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">3</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">knit_print</span>(FAOSPainComp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-pwc-faospain" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-pwc-faospain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Pairwise comparisons between regions for model-predicted averages of FAOS Pain
</figcaption>
<div aria-describedby="tbl-pwc-faospain-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="smebucjlic" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#smebucjlic table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#smebucjlic thead, #smebucjlic tbody, #smebucjlic tfoot, #smebucjlic tr, #smebucjlic td, #smebucjlic th {
  border-style: none;
}

#smebucjlic p {
  margin: 0;
  padding: 0;
}

#smebucjlic .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#smebucjlic .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#smebucjlic .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#smebucjlic .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#smebucjlic .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#smebucjlic .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#smebucjlic .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#smebucjlic .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#smebucjlic .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#smebucjlic .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#smebucjlic .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#smebucjlic .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#smebucjlic .gt_spanner_row {
  border-bottom-style: hidden;
}

#smebucjlic .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#smebucjlic .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#smebucjlic .gt_from_md > :first-child {
  margin-top: 0;
}

#smebucjlic .gt_from_md > :last-child {
  margin-bottom: 0;
}

#smebucjlic .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#smebucjlic .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#smebucjlic .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#smebucjlic .gt_row_group_first td {
  border-top-width: 2px;
}

#smebucjlic .gt_row_group_first th {
  border-top-width: 2px;
}

#smebucjlic .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#smebucjlic .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#smebucjlic .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#smebucjlic .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#smebucjlic .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#smebucjlic .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#smebucjlic .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#smebucjlic .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#smebucjlic .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#smebucjlic .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#smebucjlic .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#smebucjlic .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#smebucjlic .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#smebucjlic .gt_left {
  text-align: left;
}

#smebucjlic .gt_center {
  text-align: center;
}

#smebucjlic .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#smebucjlic .gt_font_normal {
  font-weight: normal;
}

#smebucjlic .gt_font_bold {
  font-weight: bold;
}

#smebucjlic .gt_font_italic {
  font-style: italic;
}

#smebucjlic .gt_super {
  font-size: 65%;
}

#smebucjlic .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#smebucjlic .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#smebucjlic .gt_indent_1 {
  text-indent: 5px;
}

#smebucjlic .gt_indent_2 {
  text-indent: 10px;
}

#smebucjlic .gt_indent_3 {
  text-indent: 15px;
}

#smebucjlic .gt_indent_4 {
  text-indent: 20px;
}

#smebucjlic .gt_indent_5 {
  text-indent: 25px;
}

#smebucjlic .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#smebucjlic div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="contrast" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">contrast</th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="std.error" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std.error</th>
<th id="p.value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p.value</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Foot - Ankle</td>
<td class="gt_row gt_right" headers="estimate">5.643</td>
<td class="gt_row gt_right" headers="std.error">2.207</td>
<td class="gt_row gt_right" headers="p.value">0.011</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Forefoot - Ankle</td>
<td class="gt_row gt_right" headers="estimate">7.832</td>
<td class="gt_row gt_right" headers="std.error">0.607</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Forefoot - Foot</td>
<td class="gt_row gt_right" headers="estimate">2.189</td>
<td class="gt_row gt_right" headers="std.error">2.210</td>
<td class="gt_row gt_right" headers="p.value">0.323</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Midfoot - Ankle</td>
<td class="gt_row gt_right" headers="estimate">1.105</td>
<td class="gt_row gt_right" headers="std.error">0.796</td>
<td class="gt_row gt_right" headers="p.value">0.166</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Midfoot - Foot</td>
<td class="gt_row gt_right" headers="estimate">−4.538</td>
<td class="gt_row gt_right" headers="std.error">2.357</td>
<td class="gt_row gt_right" headers="p.value">0.056</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Midfoot - Forefoot</td>
<td class="gt_row gt_right" headers="estimate">−6.727</td>
<td class="gt_row gt_right" headers="std.error">0.818</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Multiple - Ankle</td>
<td class="gt_row gt_right" headers="estimate">1.683</td>
<td class="gt_row gt_right" headers="std.error">0.594</td>
<td class="gt_row gt_right" headers="p.value">0.005</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Multiple - Foot</td>
<td class="gt_row gt_right" headers="estimate">−3.960</td>
<td class="gt_row gt_right" headers="std.error">2.264</td>
<td class="gt_row gt_right" headers="p.value">0.082</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Multiple - Forefoot</td>
<td class="gt_row gt_right" headers="estimate">−6.149</td>
<td class="gt_row gt_right" headers="std.error">0.627</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Multiple - Midfoot</td>
<td class="gt_row gt_right" headers="estimate">0.578</td>
<td class="gt_row gt_right" headers="std.error">0.821</td>
<td class="gt_row gt_right" headers="p.value">0.482</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Rearfoot - Ankle</td>
<td class="gt_row gt_right" headers="estimate">1.608</td>
<td class="gt_row gt_right" headers="std.error">1.005</td>
<td class="gt_row gt_right" headers="p.value">0.111</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Rearfoot - Foot</td>
<td class="gt_row gt_right" headers="estimate">−4.035</td>
<td class="gt_row gt_right" headers="std.error">2.285</td>
<td class="gt_row gt_right" headers="p.value">0.079</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Rearfoot - Forefoot</td>
<td class="gt_row gt_right" headers="estimate">−6.225</td>
<td class="gt_row gt_right" headers="std.error">1.053</td>
<td class="gt_row gt_right" headers="p.value">0.000</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="contrast">Rearfoot - Midfoot</td>
<td class="gt_row gt_right" headers="estimate">0.503</td>
<td class="gt_row gt_right" headers="std.error">1.108</td>
<td class="gt_row gt_right" headers="p.value">0.650</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="contrast">Rearfoot - Multiple</td>
<td class="gt_row gt_right" headers="estimate">−0.075</td>
<td class="gt_row gt_right" headers="std.error">1.071</td>
<td class="gt_row gt_right" headers="p.value">0.944</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="record-17-other-analyses" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="record-17-other-analyses"><span class="header-section-number">4.5</span> RECORD [17] Other analyses</h2>
<!--# Report other analyses done—eg analyses of subgroups and interactions, and sensitivity analyses -->
<!--# Repeat modelling without "foot" region -->
</section>
</section>
<section id="discussion" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Discussion</h1>
<section id="record-18-key-results" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="record-18-key-results"><span class="header-section-number">5.1</span> RECORD [18] Key results</h2>
<!--# Summarise key results with reference to study objectives -->
</section>
<section id="record-19-limitations" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="record-19-limitations"><span class="header-section-number">5.2</span> RECORD [19] Limitations</h2>
<!--# Discuss limitations of the study, taking into account sources of potential bias or imprecision. Discuss both direction and magnitude of any potential bias -->
<section id="record-19.1-implications-of-non-specific-data" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="record-19.1-implications-of-non-specific-data"><span class="header-section-number">5.2.1</span> RECORD [19.1] Implications of non-specific data</h3>
<!--# RECORD 19.1: Discuss the implications of using data that were not created or collected to answer the specific research question(s). Include discussion of misclassification bias, unmeasured confounding, missing data, and changing eligibility over time, as they pertain to the study being reported. -->
</section>
</section>
<section id="record-20-interpretation" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="record-20-interpretation"><span class="header-section-number">5.3</span> RECORD [20] Interpretation</h2>
<!--# Give a cautious overall interpretation of results considering objectives, limitations, multiplicity of analyses, results from similar studies, and other relevant evidence -->
</section>
<section id="record-21-generalisability" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="record-21-generalisability"><span class="header-section-number">5.4</span> RECORD [21] Generalisability</h2>
<!--# Discuss the generalisability (external validity) of the study results -->
</section>
</section>
<section id="other-information" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Other information</h1>
<section id="record-22-funding" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="record-22-funding"><span class="header-section-number">6.1</span> RECORD [22] Funding</h2>
<!--# Give the source of funding and the role of the funders for the present study and, if applicable, for the original study on which the present article is based -->
</section>
<section id="record-23-accessibility-of-protocol-raw-data-and-programming-code" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="record-23-accessibility-of-protocol-raw-data-and-programming-code"><span class="header-section-number">6.2</span> RECORD [23] Accessibility of protocol, raw data, and programming code</h2>
<!--# RECORD 22.1: Authors should provide information on how to access any supplemental information such as the study protocol, raw data, or programming code. -->
<p>Programming code is incorporated into this document.</p>
<p>Study data may be accessed for reasonable research activities by contacting the corresponding author.</p>
</section>
</section>
<section id="publishing-functions" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Publishing functions</h1>
<p>Write files for publication on posit connect.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-roos2001" class="csl-entry" role="listitem">
Roos, Ewa M., Sveinbjörn Brandsson, and Jon Karlsson. 2001. <span>“Validation of the Foot and Ankle Outcome Score for Ankle Ligament Reconstruction.”</span> <em>Foot &amp; Ankle International</em> 22 (10): 788–94. <a href="https://doi.org/10.1177/107110070102201004">https://doi.org/10.1177/107110070102201004</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>